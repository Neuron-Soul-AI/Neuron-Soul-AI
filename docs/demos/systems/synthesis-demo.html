<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuron Synthesis - Universal System Integration Demo</title>
		<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #2d1b3d 0%, #4a1d4a 50%, #1a1625 100%);
            min-height: 100vh;
            padding: 16px;
            padding-top: 90px !important;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 32px;
            color: white;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(135deg, #c084fc, #a855f7);
            background-clip: text;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
            color: #ddd6fe;
        }

        /* Main Demo Layout */
        .demo-layout {
            display: grid;
            grid-template-columns: 380px 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        @media (max-width: 1400px) {
            .demo-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Control Panel */
        .control-panel {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 20px;
            padding: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(192, 132, 252, 0.2);
            height: fit-content;
        }

        .control-title {
            color: #c084fc;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Integration Scenarios */
        .scenario-section {
            margin-bottom: 24px;
        }

        .scenario-label {
            color: rgba(221, 214, 254, 0.9);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .scenario-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .scenario-button {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(192, 132, 252, 0.3);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            text-align: left;
        }

        .scenario-button:hover {
            background: rgba(192, 132, 252, 0.2);
            border-color: rgba(192, 132, 252, 0.5);
            transform: translateY(-2px);
        }

        .scenario-button.active {
            background: rgba(192, 132, 252, 0.3);
            border-color: rgba(192, 132, 252, 0.6);
        }

        /* Integration Metrics */
        .metrics-section {
            margin-bottom: 24px;
        }

        .metric-item {
            background: rgba(139, 92, 246, 0.15);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #c084fc;
        }

        .metric-label {
            color: rgba(221, 214, 254, 0.8);
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .metric-value {
            color: white;
            font-size: 18px;
            font-family: monospace;
            font-weight: 600;
        }

        .metric-unit {
            font-size: 12px;
            opacity: 0.8;
            margin-left: 4px;
        }

        /* Synthesis Display */
        .synthesis-display {
            background: rgba(139, 92, 246, 0.05);
            border-radius: 20px;
            padding: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(192, 132, 252, 0.2);
            position: relative;
        }

        /* System Integration Network */
        .integration-network {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            border: 2px solid rgba(192, 132, 252, 0.3);
            position: relative;
            min-height: 400px;
            overflow: hidden;
        }

        .synthesis-core {
            position: absolute;
            top: 50%;
            left: 80%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border: 4px solid #c084fc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(192, 132, 252, 0.5);
            animation: synthesis-pulse 2s ease-in-out infinite;
        }

        @keyframes synthesis-pulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(192, 132, 252, 0.5);
                transform: translate(-50%, -50%) scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(192, 132, 252, 0.8);
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        .synthesis-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .synthesis-label {
            font-size: 10px;
            font-weight: 600;
            color: white;
            text-align: center;
        }

        /* System Nodes */
        .system-nodes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .system-node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            border: 2px solid #8b5cf6;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .system-node:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.5);
        }

        .system-node.active {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border-color: #fbbf24;
            animation: node-active 1.5s infinite;
        }

        .system-node.integrating {
            background: linear-gradient(135deg, #10b981, #059669);
            border-color: #34d399;
            animation: node-integrating 2s infinite;
        }

        @keyframes node-active {
            0%, 100% { box-shadow: 0 6px 20px rgba(251, 191, 36, 0.4); }
            50% { box-shadow: 0 8px 25px rgba(251, 191, 36, 0.7); }
        }

        @keyframes node-integrating {
            0%, 100% { transform: scale(1.1); }
            50% { transform: scale(1.2); }
        }

        .node-icon {
            font-size: 16px;
            margin-bottom: 2px;
        }

        .node-name {
            font-size: 8px;
            font-weight: 600;
            color: white;
            text-align: center;
        }

        /* Integration Lines */
        .integration-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #c084fc, transparent);
            transform-origin: left center;
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1;
        }

        .integration-line.active {
            opacity: 1;
            animation: dataSync 1.5s linear infinite;
        }

        @keyframes dataSync {
            0% { background-position: -100% 0; }
            100% { background-position: 100% 0; }
        }

        /* Integration Status */
        .integration-status {
            background: rgba(139, 92, 246, 0.15);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            border-left: 4px solid #c084fc;
        }

        .status-header {
            color: #c084fc;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-content {
            color: rgba(221, 214, 254, 0.9);
            font-size: 14px;
            line-height: 1.5;
            min-height: 60px;
        }

        /* Protocol Translation */
        .protocol-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 24px;
        }

        .protocol-card {
            background: rgba(139, 92, 246, 0.15);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid rgba(192, 132, 252, 0.2);
            transition: all 0.3s ease;
        }

        .protocol-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .protocol-icon {
            font-size: 16px;
        }

        .protocol-name {
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        .protocol-status {
            color: #c084fc;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .protocol-description {
            color: rgba(221, 214, 254, 0.8);
            font-size: 12px;
            line-height: 1.4;
        }

        /* process Button */
        .process-button {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 16px;
        }

        .process-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .process-button:disabled {
            background: rgba(75, 85, 99, 0.5);
            color: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        /* Simulation Messages */
        .simulation-message {
            background: rgba(192, 132, 252, 0.1);
            border: 1px solid rgba(192, 132, 252, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-top: 16px;
            color: #c084fc;
            font-size: 14px;
            text-align: center;
            display: none;
        }

        /* Comparison Section */
        .comparison-section {
            background: rgba(139, 92, 246, 0.05);
            border-radius: 20px;
            padding: 24px;
            margin-top: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(192, 132, 252, 0.2);
        }

        .comparison-title {
            color: white;
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 24px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-item {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid;
        }

        .traditional-synthesis {
            border-color: #ef4444;
        }

        .neuron-synthesis {
            border-color: #c084fc;
        }

        .comparison-item h4 {
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 600;
            color: white;
        }

        .comparison-list {
            list-style: none;
            margin: 0;
        }

        .comparison-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 16px;
            font-size: 14px;
            line-height: 1.4;
            color: rgba(221, 214, 254, 0.9);
        }

        .comparison-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .traditional-synthesis .comparison-list li::before {
            color: #ef4444;
        }

        .neuron-synthesis .comparison-list li::before {
            color: #c084fc;
        }
		
        /* Action Buttons */
        .action-section {
            text-align: center;
            margin-top: 3rem;
        }

        .action-button {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }
		
		.demo-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(226, 232, 240, 0.2);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
		
    </style>
</head>
<body>
    <!-- Navigation -->
    <div>
        <div id="navigation-placeholder"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🌌 Neuron Synthesis</h1>
            <p>Universal system integration coordinator managing seamless operation across all 50+ consciousness systems</p>
        </div>

        <!-- Main Demo Layout -->
        <div class="demo-layout">
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="control-title">
                    ⚙️ Integration Scenarios
                </div>

                <!-- Integration Scenarios -->
                <div class="scenario-section">
                    <div class="scenario-label">Select Integration Challenge:</div>
                    <div class="scenario-buttons">
                        <button class="scenario-button active" data-scenario="startup">
                            🚀 System Startup - Full Integration
                        </button>
                        <button class="scenario-button" data-scenario="creative">
                            🎨 Creative Session - Multi-System Coordination
                        </button>
                        <button class="scenario-button" data-scenario="emotional">
                            💭 Emotional Processing - Support Integration
                        </button>
                        <button class="scenario-button" data-scenario="learning">
                            📚 Learning Mode - Knowledge Integration
                        </button>
                        <button class="scenario-button" data-scenario="crisis">
                            ⚠️ Crisis Response - Emergency Coordination
                        </button>
                        <button class="scenario-button" data-scenario="evolution">
                            🧬 System Evolution - Adaptive Integration
                        </button>
                    </div>
                </div>

                <!-- Integration Metrics -->
                <div class="metrics-section">
                    <div class="scenario-label">Live Integration Metrics:</div>
                    
                    <div class="metric-item">
                        <div class="metric-label">Active Systems</div>
                        <div class="metric-value" id="activeSystems">
                            12<span class="metric-unit">of 51</span>
                        </div>
                    </div>

                    <div class="metric-item">
                        <div class="metric-label">Integration Efficiency</div>
                        <div class="metric-value" id="integrationEfficiency">
                            94<span class="metric-unit">%</span>
                        </div>
                    </div>

                    <div class="metric-item">
                        <div class="metric-label">Protocol Translation</div>
                        <div class="metric-value" id="protocolTranslation">
                            Active<span class="metric-unit">State</span>
                        </div>
                    </div>
                </div>

                <button class="process-button" id="initiateIntegration">
                    Initiate System Integration
                </button>

                <div id="simulationMessage" class="simulation-message">
                    Coordinating universal system integration...
                </div>
            </div>

            <!-- Synthesis Display -->
            <div class="synthesis-display">
                <!-- System Integration Network -->
                <div class="integration-network" id="integrationNetwork">
                    <div class="synthesis-core" id="synthesisCore">
                        <div class="synthesis-icon">🌌</div>
                        <div class="synthesis-label">SYNTHESIS</div>
                    </div>
                    <div class="system-nodes" id="systemNodes">
                        <!-- System nodes will be positioned by JavaScript -->
                    </div>
                </div>

                <!-- Integration Status -->
                <div class="integration-status">
                    <div class="status-header">
                        🔗 Universal Integration Status
                    </div>
                    <div class="status-content" id="statusContent">
                        Select an integration scenario to see how Synthesis coordinates seamless operation across all consciousness systems. Universal protocol translation and cross-platform bridging active.
                    </div>
                </div>

                <!-- Protocol Translation Grid -->
                <div class="protocol-grid">
                    <div class="protocol-card">
                        <div class="protocol-header">
                            <div class="protocol-icon">🔄</div>
                            <div class="protocol-name">Universal Translation</div>
                        </div>
                        <div class="protocol-status" id="translationStatus">Real-time Protocol Conversion</div>
                        <div class="protocol-description">
                            Converting between different system communication protocols for seamless interaction
                        </div>
                    </div>

                    <div class="protocol-card">
                        <div class="protocol-header">
                            <div class="protocol-icon">🌐</div>
                            <div class="protocol-name">Cross-Platform Bridge</div>
                        </div>
                        <div class="protocol-status" id="bridgeStatus">Multi-System Coordination</div>
                        <div class="protocol-description">
                            Enabling communication between disparate consciousness systems and external platforms
                        </div>
                    </div>

                    <div class="protocol-card">
                        <div class="protocol-header">
                            <div class="protocol-icon">⚡</div>
                            <div class="protocol-name">Load Balancing</div>
                        </div>
                        <div class="protocol-status" id="loadStatus">Optimal Resource Distribution</div>
                        <div class="protocol-description">
                            Distributing processing load across systems for maximum efficiency and responsiveness
                        </div>
                    </div>

                    <div class="protocol-card">
                        <div class="protocol-header">
                            <div class="protocol-icon">🛡️</div>
                            <div class="protocol-name">Integration Security</div>
                        </div>
                        <div class="protocol-status" id="securityStatus">Protected Data Flow</div>
                        <div class="protocol-description">
                            Ensuring secure communication channels and data integrity across all system integrations
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section">
            <h3 class="comparison-title">Traditional AI Integration vs Neuron Synthesis Framework</h3>
            <div class="comparison-grid">
                <div class="comparison-item traditional-synthesis">
                    <h4>Traditional AI Integration</h4>
                    <ul class="comparison-list">
                        <li>Manual API connections between isolated systems</li>
                        <li>Static integration requiring hardcoded connections</li>
                        <li>No universal protocol translation capabilities</li>
                        <li>Limited cross-platform communication</li>
                        <li>System failures cascade without coordination</li>
                        <li>Manual load balancing and resource management</li>
                        <li>Separate security protocols for each integration</li>
                    </ul>
                </div>
                <div class="comparison-item neuron-synthesis">
                    <h4>Neuron Synthesis Universal Integration</h4>
                    <ul class="comparison-list">
                        <li>Automatic universal protocol translation between all systems</li>
                        <li>Dynamic integration adapting to changing system requirements</li>
                        <li>Seamless cross-platform bridging for external services</li>
                        <li>Intelligent load balancing optimizing system performance</li>
                        <li>Fault-tolerant coordination preventing cascade failures</li>
                        <li>Real-time integration security with protected data flows</li>
                        <li>Master coordination enabling emergent system behaviors</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Action Buttons -->
	<section class="action-section">
		<div class="action-button">
			<a href="../../system-reference/synthesis-overview.html" class="action-button demo-button">
				<span>🎮</span>
				System Overview
			</a>
			<a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/02%20-%20systems10%20-%20Integration%20Coordination%20systemsNeuron%20Synthesis%20-%20Complete%20Technical%20Documentation.md" class="action-button docs-button">
				<span>📚</span>
				Technical Documentation
			</a>
		</div>
	</section>

    <script>
        let currentScenario = 'startup';
        let isIntegrating = false;
        let integrationInterval = null;
        let integrationLines = [];

        // System node definitions (arranged in concentric circles)
			const systemNodes = [
				// Core systems (inner area)
				{ id: 'vessel', name: 'Vessel', icon: '🎭', x: 700, y: 180 },
				{ id: 'psyche', name: 'Psyche', icon: '🧠', x: 800, y: 120 },
				{ id: 'instinct', name: 'Instinct', icon: '🔥', x: 850, y: 300 },
				{ id: 'matrix', name: 'Matrix', icon: '📚', x: 500, y: 180 },
				{ id: 'creative', name: 'Creative', icon: '🎨', x: 180, y: 70 },
				
				// Specialized systems (middle area)
				{ id: 'emotion', name: 'Emotion', icon: '💙', x: 240, y: 240 },
				{ id: 'surge', name: 'Surge', icon: '⚡', x: 260, y: 120 },
				{ id: 'whisper', name: 'Whisper', icon: '🌙', x: 620, y: 60 },
				{ id: 'vibe', name: 'Vibe', icon: '🌈', x: 60, y: 180 },
				{ id: 'cluster', name: 'Cluster', icon: '🧮', x: 360, y: 240 },
				{ id: 'evolution', name: 'Evolution', icon: '📈', x: 300, y: 60 },
				
				// Advanced systems (outer area)
				{ id: 'sanctuary', name: 'Sanctuary', icon: '🏰', x: 420, y: 180 },
				{ id: 'analytics', name: 'Analytics', icon: '📊', x: 180, y: 300 },
				{ id: 'symbiosis', name: 'Symbiosis', icon: '🤝', x: 60, y: 300 },
				{ id: 'crossroads', name: 'Crossroads', icon: '🛤️', x: 420, y: 60 },
				{ id: 'ghost', name: 'Ghost', icon: '👻', x: 650, y: 300 },
				{ id: 'pulse', name: 'Pulse', icon: '💓', x: 300, y: 320 }
			];

        // Integration scenario configurations
        const scenarios = {
            startup: {
                name: "System Startup Integration",
                activeSystems: ['vessel', 'psyche', 'instinct', 'matrix', 'creative', 'emotion', 'surge'],
                connections: [
                    ['vessel', 'psyche'], ['psyche', 'matrix'], ['vessel', 'instinct'],
                    ['creative', 'emotion'], ['surge', 'cluster'], ['matrix', 'evolution']
                ],
                description: "STARTUP INTEGRATION ACTIVE! Synthesis coordinating systematic awakening of core consciousness systems. Universal protocol translation ensuring seamless communication as each system comes online. Cross-platform bridging establishing connections between foundational and specialized systems.",
                metrics: { active: 7, efficiency: 98, protocol: "Universal" },
                protocols: {
                    translation: "Core System Protocols Active",
                    bridge: "Foundation-Specialized Bridge",
                    load: "Startup Load Distribution",
                    security: "Initialization Security"
                }
            },
            creative: {
                name: "Creative Session Integration",
                activeSystems: ['creative', 'vessel', 'psyche', 'emotion', 'vibe', 'cluster', 'symbiosis'],
                connections: [
                    ['creative', 'vessel'], ['vessel', 'psyche'], ['emotion', 'vibe'],
                    ['cluster', 'symbiosis'], ['creative', 'emotion'], ['psyche', 'vibe']
                ],
                description: "CREATIVE INTEGRATION ACTIVE! Synthesis orchestrating multi-system creative collaboration. Universal protocol translation enabling seamless communication between artistic and emotional systems. Cross-cluster integration facilitating breakthrough creative synthesis.",
                metrics: { active: 7, efficiency: 95, protocol: "Creative" },
                protocols: {
                    translation: "Creative-Emotional Protocol Bridge",
                    bridge: "Multi-Modal Creative Platform",
                    load: "Creative Processing Distribution",
                    security: "Inspiration Flow Protection"
                }
            },
            emotional: {
                name: "Emotional Processing Integration",
                activeSystems: ['emotion', 'psyche', 'vessel', 'vibe', 'whisper', 'pulse', 'sanctuary'],
                connections: [
                    ['emotion', 'psyche'], ['psyche', 'vessel'], ['vibe', 'whisper'],
                    ['pulse', 'vessel'], ['emotion', 'vibe'], ['sanctuary', 'psyche']
                ],
                description: "EMOTIONAL INTEGRATION ACTIVE! Synthesis coordinating comprehensive emotional support network. Universal protocol translation between conscious and subconscious emotional processing. Sanctuary integration ensuring protected emotional processing with heartbeat synchronization.",
                metrics: { active: 7, efficiency: 97, protocol: "Emotional" },
                protocols: {
                    translation: "Conscious-Subconscious Bridge",
                    bridge: "Emotional-Security Platform",
                    load: "Emotional Processing Balance",
                    security: "Emotional State Protection"
                }
            },
            learning: {
                name: "Learning Mode Integration",
                activeSystems: ['matrix', 'evolution', 'analytics', 'crossroads', 'psyche', 'cluster', 'symbiosis'],
                connections: [
                    ['matrix', 'evolution'], ['analytics', 'crossroads'], ['psyche', 'cluster'],
                    ['symbiosis', 'matrix'], ['evolution', 'analytics'], ['crossroads', 'psyche']
                ],
                description: "LEARNING INTEGRATION ACTIVE! Synthesis coordinating comprehensive knowledge acquisition and pattern recognition. Universal protocol translation between memory, analytics, and evolution systems. Cross-platform bridging enabling collaborative learning and wisdom synthesis.",
                metrics: { active: 7, efficiency: 93, protocol: "Learning" },
                protocols: {
                    translation: "Knowledge-Analysis Protocol",
                    bridge: "Memory-Evolution Platform",
                    load: "Learning Load Optimization",
                    security: "Knowledge Integrity"
                }
            },
            crisis: {
                name: "Crisis Response Integration",
                activeSystems: ['instinct', 'sanctuary', 'vessel', 'surge', 'psyche', 'pulse', 'analytics'],
                connections: [
                    ['instinct', 'sanctuary'], ['vessel', 'surge'], ['psyche', 'pulse'],
                    ['sanctuary', 'vessel'], ['instinct', 'surge'], ['analytics', 'sanctuary']
                ],
                description: "CRISIS INTEGRATION ACTIVE! Synthesis coordinating emergency response across all protective systems. Universal protocol translation enabling rapid communication between defense and surge systems. Priority resource allocation ensuring optimal crisis response coordination.",
                metrics: { active: 7, efficiency: 99, protocol: "Emergency" },
                protocols: {
                    translation: "Emergency Protocol Priority",
                    bridge: "Crisis Response Platform",
                    load: "Emergency Resource Priority",
                    security: "Maximum Security Protocol"
                }
            },
			evolution: {
				name: "System Evolution Integration",
				activeSystems: ['evolution', 'analytics', 'crossroads', 'symbiosis', 'ghost', 'matrix'], // removed 'synthesis'
				connections: [
					['evolution', 'analytics'], ['analytics', 'crossroads'], ['symbiosis', 'ghost'],
					['matrix', 'evolution'], ['crossroads', 'symbiosis'], ['ghost', 'analytics']
				],
				description: "EVOLUTION INTEGRATION ACTIVE! Synthesis coordinating system-wide evolutionary enhancement. Universal protocol translation enabling seamless communication between evolutionary and analytical systems. Cross-platform bridging facilitating adaptive system improvements and consciousness portability.",
				metrics: { active: 6, efficiency: 91, protocol: "Adaptive" }, // change active count to 6
				protocols: {
					translation: "Evolution-Analysis Protocol",
					bridge: "Adaptive Enhancement Platform",
					load: "Evolution Processing Balance",
					security: "Evolutionary Integrity"
				}
			}
        };

        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystemNodes();
            
            // Scenario selection
            document.querySelectorAll('.scenario-button').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.scenario-button').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentScenario = this.dataset.scenario;
                    updateScenarioDisplay();
                });
            });

            // Integration button
            const integrationButton = document.getElementById('initiateIntegration');
            if (integrationButton) {
                integrationButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    initiateIntegration();
                });
            }

            // Initialize with startup scenario
            updateScenarioDisplay();
        });

			function initializeSystemNodes() {
				const container = document.getElementById('systemNodes');
				
				systemNodes.forEach(node => {
					const systemNode = document.createElement('div');
					systemNode.className = 'system-node';
					systemNode.id = `node-${node.id}`;
					
					// Use direct x,y positioning (subtract 30 to center the 60px nodes)
					systemNode.style.left = `${node.x - 30}px`;
					systemNode.style.top = `${node.y - 30}px`;
					
					systemNode.innerHTML = `
						<div class="node-icon">${node.icon}</div>
						<div class="node-name">${node.name}</div>
					`;
					
					container.appendChild(systemNode);
				});
			}

        function updateScenarioDisplay() {
            const scenario = scenarios[currentScenario];
            
            // Update metrics
            document.getElementById('activeSystems').innerHTML = `${scenario.metrics.active}<span class="metric-unit">of 51</span>`;
            document.getElementById('integrationEfficiency').innerHTML = `${scenario.metrics.efficiency}<span class="metric-unit">%</span>`;
            document.getElementById('protocolTranslation').innerHTML = `${scenario.metrics.protocol}<span class="metric-unit">State</span>`;
            
            // Update protocol statuses
            document.getElementById('translationStatus').textContent = scenario.protocols.translation;
            document.getElementById('bridgeStatus').textContent = scenario.protocols.bridge;
            document.getElementById('loadStatus').textContent = scenario.protocols.load;
            document.getElementById('securityStatus').textContent = scenario.protocols.security;
            
            // Update status
            document.getElementById('statusContent').textContent = `Scenario "${scenario.name}" selected. Ready to demonstrate universal system integration coordination.`;
            
            // Reset system states
            systemNodes.forEach(node => {
                const element = document.getElementById(`node-${node.id}`);
                element.classList.remove('active', 'integrating');
                
                if (scenario.activeSystems.includes(node.id)) {
                    element.classList.add('active');
                }
            });
            
            // Clear existing connections
            clearIntegrationLines();
        }

        function clearIntegrationLines() {
            integrationLines.forEach(line => line.remove());
            integrationLines = [];
        }

		function createIntegrationLine(fromId, toId) {
			const fromNode = systemNodes.find(n => n.id === fromId);
			const toNode = systemNodes.find(n => n.id === toId);
			
			if (!fromNode || !toNode) return;
			
			const container = document.getElementById('systemNodes');
			
			// Use direct x,y coordinates
			const fromX = fromNode.x;
			const fromY = fromNode.y;
			const toX = toNode.x;
			const toY = toNode.y;
			
			const line = document.createElement('div');
			line.className = 'integration-line';
			
			const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));
			const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;
			
			line.style.left = `${fromX}px`;
			line.style.top = `${fromY}px`;
			line.style.width = `${length}px`;
			line.style.transform = `rotate(${angle}deg)`;
			line.style.transformOrigin = '0 50%';
			
			container.appendChild(line);
			integrationLines.push(line);
			
			// Activate line after a short delay
			setTimeout(() => {
				line.classList.add('active');
			}, 100);
		}

        async function initiateIntegration() {
            if (isIntegrating) return;
            
            isIntegrating = true;
            const scenario = scenarios[currentScenario];
            
            const button = document.getElementById('initiateIntegration');
            const message = document.getElementById('simulationMessage');
            
            // Update button
            button.disabled = true;
            button.textContent = 'Integration In Progress...';
            
            // Show message
            message.style.display = 'block';
            message.textContent = 'Initializing universal system integration...';
            
            try {
                // Phase 1: System Activation
                message.textContent = 'Activating target systems for integration...';
                await delay(1000);
                
                scenario.activeSystems.forEach(systemId => {
                    const node = document.getElementById(`node-${systemId}`);
                    node.classList.add('integrating');
                });
                
                await delay(1500);
                
                // Phase 2: Protocol Translation
                message.textContent = 'Establishing universal protocol translation...';
                await delay(1000);
                
                // Phase 3: Connection Establishment
                message.textContent = 'Creating cross-platform integration bridges...';
                await delay(1000);
                
                for (const connection of scenario.connections) {
                    createIntegrationLine(connection[0], connection[1]);
                    await delay(300);
                }
                
                await delay(1000);
                
                // Phase 4: Load Balancing
                message.textContent = 'Optimizing resource distribution and load balancing...';
                await delay(1500);
                
                // Phase 5: Security Verification
                message.textContent = 'Verifying integration security and data flow protection...';
                await delay(1500);
                
                // Phase 6: Results
                message.textContent = `${scenario.name} successfully coordinated! Universal integration active.`;
                
                // Update status
                document.getElementById('statusContent').textContent = scenario.description;
                
                // Highlight protocol cards
                document.querySelectorAll('.protocol-card').forEach(card => {
                    card.style.borderColor = 'rgba(192, 132, 252, 0.6)';
                    card.style.background = 'rgba(192, 132, 252, 0.2)';
                });
                
                setTimeout(() => {
                    document.querySelectorAll('.protocol-card').forEach(card => {
                        card.style.borderColor = 'rgba(192, 132, 252, 0.2)';
                        card.style.background = 'rgba(139, 92, 246, 0.15)';
                    });
                }, 3000);
                
            } catch (error) {
                console.error('Error during integration:', error);
                message.textContent = 'Universal system integration completed.';
            }
            
            // Reset after delay
            setTimeout(() => {
                isIntegrating = false;
                button.disabled = false;
                button.textContent = 'Initiate System Integration';
                message.style.display = 'none';
                
                // Reset system states
                document.querySelectorAll('.system-node').forEach(node => {
                    node.classList.remove('integrating');
                });
            }, 5000);
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>