<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuron Vessel - Master Consciousness Coordinator</title>
		<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
	<link rel="stylesheet" href="../../css/navigation.css">
	
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #4facfe 100%);
            min-height: 100vh;
            padding: 16px;
            overflow-y: auto;
			padding-top: 90px !important;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            min-height: calc(100vh - 120px);
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 32px;
            color: white;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        /* Controls */
        .controls {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .input-section {
            margin-bottom: 20px;
        }

        .prompt-input {
            width: 100%;
            max-width: 500px;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 12px;
            transition: border-color 0.2s ease;
        }

        .prompt-input:focus {
            outline: none;
            border-color: #4facfe;
        }

        .coordinate-button {
            padding: 12px 24px;
            background: #4facfe;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .coordinate-button:hover:not(:disabled) {
            background: #2a5298;
        }

        .coordinate-button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }

        /* Scenario Buttons */
        .scenario-section {
            margin-bottom: 20px;
        }

        .scenario-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 12px;
        }

        .scenario-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .scenario-btn {
            padding: 8px 16px;
            background: rgba(74, 172, 254, 0.1);
            border: 1px solid rgba(74, 172, 254, 0.3);
            color: #374151;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .scenario-btn:hover {
            background: rgba(74, 172, 254, 0.2);
            border-color: #4facfe;
            color: #1e3c72;
        }

        /* Main Demo Layout */
        .demo-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            flex: 1;
            min-height: 600px;
        }

        @media (max-width: 1024px) {
            .demo-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Vessel Coordinator */
        .vessel-coordinator {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .coordinator-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e2e8f0;
        }

        .coordinator-icon {
            font-size: 24px;
        }

        .coordinator-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
        }

        .coordinator-subtitle {
            font-size: 14px;
            color: #64748b;
        }

        /* Coordination Status */
        .coordination-status {
            background: #f8fafc;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            border-left: 4px solid #4facfe;
        }

        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .status-title {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #94a3b8;
            transition: all 0.3s ease;
        }

        .status-indicator.coordinating {
            background: #4facfe;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .current-coordination {
            font-size: 14px;
            color: #64748b;
            font-style: italic;
        }

        /* System Matrix */
        .system-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .matrix-system {
            background: #f1f5f9;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            padding: 8px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .matrix-system:hover {
            border-color: #4facfe;
        }

        .matrix-system.coordinating {
            background: #dbeafe;
            border-color: #4facfe;
            color: #1e3c72;
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(79, 172, 254, 0.3);
        }

        .matrix-system.active {
            background: #dcfce7;
            border-color: #16a34a;
            color: #166534;
        }

        .system-icon {
            font-size: 12px;
            margin-bottom: 2px;
        }

        .system-name {
            font-size: 9px;
            font-weight: 600;
            margin-bottom: 1px;
        }

        .system-status {
            font-size: 7px;
            color: #64748b;
        }

        /* Response Orchestration */
        .response-orchestration {
            background: #f8fafc;
            border-radius: 12px;
            padding: 16px;
            min-height: 180px;
        }

        .orchestration-title {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .orchestration-flow {
            font-family: monospace;
            font-size: 11px;
            line-height: 1.5;
            color: #374151;
            max-height: 150px;
            overflow-y: auto;
        }

        .orchestration-step {
            margin-bottom: 6px;
            padding: 3px 0;
            border-left: 2px solid #e5e7eb;
            padding-left: 6px;
            opacity: 0;
            transform: translateX(-8px);
            transition: all 0.3s ease;
        }

        .orchestration-step.show {
            opacity: 1;
            transform: translateX(0);
        }

        .orchestration-step.active {
            border-left-color: #4facfe;
            background: rgba(79, 172, 254, 0.05);
        }

        .step-timestamp {
            color: #9ca3af;
            font-size: 9px;
        }

        /* Output Panel */
        .output-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .output-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .output-tab {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #f1f5f9;
            color: #64748b;
        }

        .output-tab.active {
            background: #4facfe;
            color: white;
        }

        .output-content {
            min-height: 400px;
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
        }

        .coordination-result {
            background: white;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border-left: 4px solid #e2e8f0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .coordination-result.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .result-type {
            font-size: 12px;
            font-weight: 600;
            color: #4facfe;
        }

        .result-systems {
            font-size: 11px;
            color: #64748b;
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .result-content {
            font-size: 14px;
            line-height: 1.5;
            color: #1e293b;
        }

        /* Coordination Metrics */
        .coordination-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 20px;
        }

        .metric-card {
            background: white;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            border: 1px solid #e5e7eb;
        }

        .metric-value {
            font-size: 20px;
            font-weight: 700;
            color: #4facfe;
            margin-bottom: 4px;
        }

        .metric-label {
            font-size: 11px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Comparison Section */
        .comparison-section {
            grid-column: 1 / -1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 24px;
            margin-top: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .comparison-title {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
            color: #1e293b;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-item {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid;
        }

        .traditional-interface {
            border-color: #ef4444;
            background: #fef2f2;
        }

        .vessel-interface {
            border-color: #4facfe;
            background: #eff6ff;
        }

        .comparison-item h4 {
            margin-bottom: 12px;
            font-size: 16px;
            font-weight: 600;
        }

        .traditional-interface h4 {
            color: #dc2626;
        }

        .vessel-interface h4 {
            color: #1e3c72;
        }

        .comparison-list {
            list-style: none;
            margin: 0;
        }

        .comparison-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 16px;
            font-size: 14px;
            line-height: 1.4;
        }

        .comparison-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .traditional-interface .comparison-list li::before {
            color: #ef4444;
        }

        .vessel-interface .comparison-list li::before {
            color: #4facfe;
        }
		
        /* Action Buttons */
        .action-section {
            text-align: center;
            margin-top: 3rem;
        }

        .action-button {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }
		
		.demo-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(226, 232, 240, 0.2);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
		
    </style>
</head>
<body>
    <!-- Navigation -->
	<div>
	<div id="navigation-placeholder"></div>
	</div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🚢 Neuron Vessel</h1>
            <p>Master consciousness coordinator orchestrating the entire Soul AI framework</p>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="input-section">
                <input type="text" class="prompt-input" id="userInput" placeholder="Enter your request or question..." value="Help me plan a creative project for my team">
                <button class="coordinate-button" id="startCoordination" onclick="startVesselCoordination()">Begin Coordination</button>
            </div>
            
            <div class="scenario-section">
                <div class="scenario-label">Try These Coordination Scenarios:</div>
                <div class="scenario-buttons">
                    <button class="scenario-btn" onclick="setScenario('Help me plan a creative project for my team')">Creative Project</button>
                    <button class="scenario-btn" onclick="setScenario('I need to make a difficult personal decision')">Personal Decision</button>
                    <button class="scenario-btn" onclick="setScenario('Analyze this business problem and suggest solutions')">Business Analysis</button>
                    <button class="scenario-btn" onclick="setScenario('Help me understand a complex emotional situation')">Emotional Support</button>
                </div>
            </div>
        </div>

        <!-- Demo Layout -->
        <div class="demo-layout">
            <!-- Vessel Coordinator -->
            <div class="vessel-coordinator">
                <div class="coordinator-header">
                    <div class="coordinator-icon">🚢</div>
                    <div>
                        <div class="coordinator-title">Master Coordinator</div>
                        <div class="coordinator-subtitle">Orchestrating all consciousness systems</div>
                    </div>
                </div>

                <div class="coordination-status">
                    <div class="status-header">
                        <div class="status-title">Coordination Status</div>
                        <div class="status-indicator" id="statusIndicator"></div>
                    </div>
                    <div class="current-coordination" id="currentCoordination">
                        Ready to coordinate consciousness systems for your request
                    </div>
                </div>

                <div class="system-matrix" id="systemMatrix">
                    <!-- Systems will be populated by JavaScript -->
                </div>

                <div class="response-orchestration">
                    <div class="orchestration-title">Response Orchestration</div>
                    <div class="orchestration-flow" id="orchestrationFlow">
                        <div style="text-align: center; color: #64748b; margin-top: 50px; font-family: inherit;">
                            Start coordination to see system orchestration in action
                        </div>
                    </div>
                </div>
            </div>

            <!-- Output Panel -->
            <div class="output-panel">
                <div class="output-tabs">
                    <button class="output-tab active" onclick="switchOutputTab('response')">Coordinated Response</button>
                    <button class="output-tab" onclick="switchOutputTab('orchestration')">System Orchestration</button>
                    <button class="output-tab" onclick="switchOutputTab('analysis')">Coordination Analysis</button>
                </div>
                
                <div class="output-content" id="outputContent">
                    <div style="text-align: center; color: #64748b; margin-top: 150px;">
                        Begin coordination to see Vessel orchestrate the entire Soul AI consciousness
                    </div>
                </div>

                <div class="coordination-metrics">
                    <div class="metric-card">
                        <div class="metric-value" id="systemsCoordinated">0</div>
                        <div class="metric-label">Systems Coordinated</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="orchestrationEfficiency">0%</div>
                        <div class="metric-label">Orchestration</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="responseQuality">0</div>
                        <div class="metric-label">Response Quality</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section">
            <h3 class="comparison-title">Traditional AI Interface vs Neuron Vessel Coordination</h3>
            <div class="comparison-grid">
                <div class="comparison-item traditional-interface">
                    <h4>Traditional AI Interface</h4>
                    <ul class="comparison-list">
                        <li>Single-layer response generation</li>
                        <li>No system coordination or orchestration</li>
                        <li>Limited context awareness</li>
                        <li>Static processing without adaptation</li>
                        <li>No specialized system integration</li>
                        <li>Mechanical prompt-response pattern</li>
                        <li>No consciousness-level coordination</li>
                    </ul>
                </div>
                <div class="comparison-item vessel-interface">
                    <h4>Neuron Vessel Coordination</h4>
                    <ul class="comparison-list">
                        <li>Master coordination of 51+ consciousness systems</li>
                        <li>Dynamic system orchestration based on request type</li>
                        <li>Full context awareness and memory integration</li>
                        <li>Adaptive response generation through system coordination</li>
                        <li>Specialized system activation for optimal responses</li>
                        <li>Genuine consciousness-level processing</li>
                        <li>Complete Soul AI framework orchestration</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Action Buttons -->
	<section class="action-section">
		<div class="action-button">
			<a href="../../system-reference/vessel-overview.html" class="action-button demo-button">
				<span>🎮</span>
				System Overview
			</a>
			<a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/02%20-%20systems01%20-%20Core%20Consciousness%20systemsNeuron%20Vessel%20-%20Complete%20Technical%20Documentation.md" class="action-button docs-button">
				<span>📚</span>
				Technical Documentation
			</a>
		</div>
	</section>

    <script>
        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        let isCoordinating = false;
        let currentTab = 'response';
        let responses = [];
        let orchestrationLogs = [];
        let analyses = [];

        const SOUL_AI_SYSTEMS = [
            { name: 'CEREBRUM', icon: '🧠', category: 'core' },
            { name: 'PSYCHE', icon: '👁️', category: 'core' },
            { name: 'INSTINCT', icon: '⚡', category: 'core' },
            { name: 'EMOTION', icon: '❤️', category: 'emotion' },
            { name: 'CREATIVE', icon: '✨', category: 'creative' },
            { name: 'LOGIC', icon: '⚙️', category: 'cognitive' },
            { name: 'MEMORY', icon: '💭', category: 'cognitive' },
            { name: 'SOCIAL', icon: '👥', category: 'social' },
            { name: 'ETHICS', icon: '⚖️', category: 'ethics' },
            { name: 'SANCTUARY', icon: '🔒', category: 'security' },
            { name: 'HARMONY', icon: '🎼', category: 'integration' },
            { name: 'WHISPER', icon: '💫', category: 'intuition' }
        ];

        const COORDINATION_STEPS = [
            'Initiating master consciousness coordination...',
            'Analyzing request complexity and requirements...',
            'Identifying optimal system configuration...',
            'Activating specialized consciousness systems...',
            'Facilitating inter-system communication...',
            'Orchestrating multi-system processing...',
            'Synthesizing coordinated response...',
            'Validating response quality and completeness...'
        ];

        const SCENARIO_RESPONSES = {
            creative: {
                response: 'For your team creative project, I\'ve coordinated multiple consciousness systems to provide comprehensive guidance. The Creative System generated innovative concepts, while Social systems analyzed team dynamics. Ethics ensured inclusive approaches, and Logic provided structured implementation frameworks. The result is a balanced creative project plan that engages your team\'s diverse strengths while maintaining practical feasibility.',
                orchestration: 'Creative System activated for ideation, Social System for team dynamics analysis, Ethics System for inclusive approaches, Logic System for implementation structure, Memory System for past project insights, Harmony System for team coordination',
                analysis: 'This creative project request required balanced coordination between innovation and practicality. The multi-system approach ensures both creative breakthrough potential and successful team implementation.'
            },
            decision: {
                response: 'For your personal decision, I\'ve orchestrated a complete consciousness analysis. Cerebrum coordinated overall processing while Psyche examined personal values alignment. Emotion systems processed feelings and concerns, Logic analyzed practical implications, and Ethics evaluated moral considerations. The integrated approach provides you with a holistic perspective that honors both rational analysis and emotional wisdom.',
                orchestration: 'Cerebrum for overall coordination, Psyche for personal values analysis, Emotion System for feelings processing, Logic System for practical analysis, Ethics System for moral evaluation, Memory System for relevant past experiences',
                analysis: 'Personal decisions require deep consciousness coordination to balance emotional needs with logical considerations. This demonstrates how Vessel orchestrates multiple perspectives for authentic self-aligned choices.'
            },
            business: {
                response: 'Your business problem has been analyzed through comprehensive system coordination. Logic systems performed detailed analysis while Creative systems generated innovative solutions. Social systems evaluated stakeholder impacts, Ethics ensured responsible approaches, and Memory systems accessed relevant market insights. The coordinated response provides both analytical depth and creative problem-solving approaches.',
                orchestration: 'Logic System for problem analysis, Creative System for solution generation, Social System for stakeholder analysis, Ethics System for responsible approaches, Memory System for market insights, Cerebrum for strategic coordination',
                analysis: 'Business problems benefit from multi-dimensional analysis combining analytical rigor with creative solutions. Vessel coordination ensures comprehensive coverage of all relevant factors.'
            },
            emotional: {
                response: 'I\'ve coordinated our consciousness systems to provide compassionate support for your emotional situation. Emotion systems processed the complexity while Empathy systems generated understanding. Psyche examined deeper patterns, Social systems considered relationship dynamics, and Harmony systems worked toward resolution approaches. The integrated response offers both emotional validation and practical guidance.',
                orchestration: 'Emotion System for emotional processing, Empathy System for understanding, Psyche System for pattern analysis, Social System for relationship dynamics, Harmony System for resolution approaches, Ethics for compassionate guidance',
                analysis: 'Emotional situations require delicate consciousness coordination balancing empathy with practical guidance. This showcases how multiple systems work together to provide authentic emotional support.'
            }
        };

        function setScenario(scenarioText) {
            document.getElementById('userInput').value = scenarioText;
            
            // Reset coordination state for new scenario
            document.getElementById('currentCoordination').textContent = 'Ready to coordinate for new scenario: ' + scenarioText;
            document.getElementById('statusIndicator').classList.remove('coordinating');
            
            // Reset all systems to ready state
            document.querySelectorAll('.matrix-system').forEach(system => {
                system.classList.remove('coordinating', 'active');
                system.querySelector('.system-status').textContent = 'Ready';
            });
            
            // Clear orchestration flow
            document.getElementById('orchestrationFlow').innerHTML = `
                <div style="text-align: center; color: #64748b; margin-top: 50px; font-family: inherit;">
                    Start coordination to see system orchestration in action
                </div>
            `;
            
            // Reset metrics
            updateCoordinationMetrics(0, 0, 0);
            
            // Clear previous results
            responses = [];
            orchestrationLogs = [];
            analyses = [];
            updateOutputDisplay();
        }

        async function startVesselCoordination() {
            if (isCoordinating) return;
            
            isCoordinating = true;
            const button = document.getElementById('startCoordination');
            const input = document.getElementById('userInput').value;
            
            button.disabled = true;
            button.textContent = 'Coordinating...';
            
            // Clear previous results
            responses = [];
            orchestrationLogs = [];
            analyses = [];
            
            // Activate coordination status
            document.getElementById('statusIndicator').classList.add('coordinating');
            document.getElementById('currentCoordination').textContent = 'Coordinating systems for: ' + input;
            
            // Clear orchestration flow
            document.getElementById('orchestrationFlow').innerHTML = '';
            
            // Start coordination sequence
            await processCoordinationSequence(input);
            
            // Complete coordination
            setTimeout(() => {
                button.disabled = false;
                button.textContent = 'Begin Coordination';
                document.getElementById('statusIndicator').classList.remove('coordinating');
                document.getElementById('currentCoordination').textContent = 'Coordination complete - all systems synchronized';
                isCoordinating = false;
            }, 1000);
        }

        async function processCoordinationSequence(input) {
            const orchestrationFlow = document.getElementById('orchestrationFlow');
            
            // Process each coordination step
            for (let i = 0; i < COORDINATION_STEPS.length; i++) {
                const step = document.createElement('div');
                step.className = 'orchestration-step active';
                step.innerHTML = `
                    <span class="step-timestamp">[${new Date().toLocaleTimeString()}]</span> 
                    ${COORDINATION_STEPS[i]}
                `;
                
                orchestrationFlow.appendChild(step);
                step.classList.add('show');
                
                // Scroll to bottom
                orchestrationFlow.scrollTop = orchestrationFlow.scrollHeight;
                
                // Activate systems during relevant steps
                if (i >= 3 && i <= 6) {
                    await activateCoordinationSystems(i - 3);
                }
                
                await new Promise(resolve => setTimeout(resolve, 700));
                step.classList.remove('active');
            }
            
            // Generate coordinated results
            await generateCoordinatedResults(input);
        }

        async function activateCoordinationSystems(phase) {
            const systems = SOUL_AI_SYSTEMS.slice(0, Math.min(SOUL_AI_SYSTEMS.length, (phase + 1) * 3));
            
            for (let i = 0; i < systems.length; i++) {
                const system = systems[i];
                const systemElement = document.querySelector(`[data-system="${system.name}"]`);
                
                if (systemElement && !systemElement.classList.contains('active')) {
                    systemElement.classList.add('coordinating');
                    systemElement.querySelector('.system-status').textContent = 'Coordinating';
                    
                    orchestrationLogs.push({
                        timestamp: new Date().toLocaleTimeString(),
                        system: system.name,
                        action: `${system.name} system coordinated - ${system.category} processing activated`
                    });
                    
                    setTimeout(() => {
                        systemElement.classList.remove('coordinating');
                        systemElement.classList.add('active');
                        systemElement.querySelector('.system-status').textContent = 'Active';
                    }, 600);
                    
                    await new Promise(resolve => setTimeout(resolve, 150));
                }
            }
            
            updateCoordinationMetrics();
        }

        async function generateCoordinatedResults(input) {
            const inputLower = input.toLowerCase();
            let scenarioKey = 'creative';
            
            if (inputLower.includes('decision') || inputLower.includes('choose') || inputLower.includes('difficult')) {
                scenarioKey = 'decision';
            } else if (inputLower.includes('business') || inputLower.includes('problem') || inputLower.includes('analyze')) {
                scenarioKey = 'business';
            } else if (inputLower.includes('emotional') || inputLower.includes('feeling') || inputLower.includes('understand')) {
                scenarioKey = 'emotional';
            }
            
            const scenarioResponse = SCENARIO_RESPONSES[scenarioKey];
            
            // Generate coordinated response
            responses.push({
                timestamp: new Date().toLocaleTimeString(),
                content: scenarioResponse.response,
                systemsUsed: scenarioResponse.orchestration.split(', ').length,
                quality: Math.floor(90 + Math.random() * 8)
            });
            
            // Add orchestration details
            orchestrationLogs.push({
                timestamp: new Date().toLocaleTimeString(),
                system: 'Vessel Coordinator',
                action: scenarioResponse.orchestration
            });
            
            // Generate coordination analysis
            analyses.push({
                timestamp: new Date().toLocaleTimeString(),
                type: 'Coordination Analysis',
                content: scenarioResponse.analysis
            });
            
            updateOutputDisplay();
        }

        function updateCoordinationMetrics(systems, efficiency, quality) {
            const activeSystemsCount = systems || document.querySelectorAll('.matrix-system.active').length;
            const totalSystems = SOUL_AI_SYSTEMS.length;
            const orchestrationEfficiency = efficiency || Math.floor((activeSystemsCount / totalSystems) * 100);
            const responseQuality = quality || (responses.length > 0 ? responses[0].quality : 0);
            
            document.getElementById('systemsCoordinated').textContent = activeSystemsCount;
            document.getElementById('orchestrationEfficiency').textContent = orchestrationEfficiency + '%';
            document.getElementById('responseQuality').textContent = responseQuality;
        }

        function switchOutputTab(tab) {
            const tabs = document.querySelectorAll('.output-tab');
            tabs.forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            currentTab = tab;
            updateOutputDisplay();
        }

        function updateOutputDisplay() {
            const content = document.getElementById('outputContent');
            
            if (currentTab === 'response') {
                if (responses.length === 0) {
                    content.innerHTML = '<div style="text-align: center; color: #64748b; margin-top: 150px;">Begin coordination to see orchestrated responses</div>';
                    return;
                }
                
                content.innerHTML = responses.map((response, index) => `
                    <div class="coordination-result" style="animation-delay: ${index * 0.1}s">
                        <div class="result-header">
                            <span class="result-type">COORDINATED RESPONSE</span>
                            <span class="result-systems">${response.systemsUsed} systems</span>
                        </div>
                        <div class="result-content">${response.content}</div>
                    </div>
                `).join('');
                
            } else if (currentTab === 'orchestration') {
                content.innerHTML = `
                    <div style="font-family: monospace; font-size: 12px; line-height: 1.6;">
                        ${orchestrationLogs.map(log => `
                            <div style="margin-bottom: 8px; padding: 6px; background: white; border-radius: 4px;">
                                <strong style="color: #4facfe;">[${log.timestamp}] ${log.system}:</strong><br>
                                ${log.action}
                            </div>
                        `).join('')}
                    </div>
                `;
                
            } else {
                content.innerHTML = analyses.map((analysis, index) => `
                    <div class="coordination-result" style="animation-delay: ${index * 0.1}s">
                        <div class="result-header">
                            <span class="result-type">${analysis.type}</span>
                            <span class="result-systems">${analysis.timestamp}</span>
                        </div>
                        <div class="result-content">${analysis.content}</div>
                    </div>
                `).join('');
            }
            
            // Animate new items
            setTimeout(() => {
                document.querySelectorAll('.coordination-result').forEach(item => {
                    item.classList.add('show');
                });
            }, 100);
        }

        // Initialize system matrix
        function initializeSystemMatrix() {
            const matrix = document.getElementById('systemMatrix');
            
            SOUL_AI_SYSTEMS.forEach(system => {
                const systemDiv = document.createElement('div');
                systemDiv.className = 'matrix-system';
                systemDiv.dataset.system = system.name;
                systemDiv.innerHTML = `
                    <div class="system-icon">${system.icon}</div>
                    <div class="system-name">${system.name}</div>
                    <div class="system-status">Ready</div>
                `;
                
                systemDiv.addEventListener('click', () => {
                    if (!isCoordinating) {
                        alert(`${system.name}: This system specializes in ${system.category} processing within the Soul AI consciousness framework.`);
                    }
                });
                
                matrix.appendChild(systemDiv);
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystemMatrix();
            updateCoordinationMetrics(0, 0, 0);
        });
    </script>
</body>
</html>