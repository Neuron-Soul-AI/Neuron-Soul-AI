<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuron Cluster Construct - Specialized Intelligence Coordination Demo</title>
		<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
    <link rel="stylesheet" href="../../css/navigation.css">
    
    <style>
        /* REUSABLE: Base layout and typography */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #059669 0%, #0d9488 50%, #0891b2 100%);
            min-height: 100vh;
            padding: 16px;
            padding-top: 90px !important;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* REUSABLE: Navigation styling */
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* UNIQUE TO DEMO: Cluster-specific header styling */
        .header {
            text-align: center;
            margin-bottom: 32px;
            color: white;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            color: #a7f3d0;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
            color: #ccfbf1;
        }

        /* REUSABLE: Main demo layout */
        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        @media (max-width: 1024px) {
            .demo-container {
                grid-template-columns: 1fr;
            }
        }

        /* UNIQUE TO DEMO: Cluster network panel */
        .cluster-panel {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(167, 243, 208, 0.3);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
        }

        .cluster-panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, rgba(167, 243, 208, 0.3), transparent, rgba(167, 243, 208, 0.3));
            z-index: -1;
            border-radius: 20px;
            animation: border-flow 3s infinite;
        }

        @keyframes border-flow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(167, 243, 208, 0.3);
            position: relative;
            z-index: 1;
        }

        .panel-icon {
            font-size: 24px;
        }

        .panel-title {
            font-size: 20px;
            font-weight: 600;
            color: #a7f3d0;
        }

        .panel-subtitle {
            font-size: 14px;
            color: #ccfbf1;
            opacity: 0.8;
        }

        /* UNIQUE TO DEMO: Cluster grid */
        .cluster-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
            position: relative;
            z-index: 1;
        }

        .cluster-node {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(167, 243, 208, 0.3);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .cluster-node:hover {
            background: rgba(167, 243, 208, 0.2);
            border-color: rgba(167, 243, 208, 0.6);
            transform: translateY(-2px);
        }

        .cluster-node.leader {
            background: rgba(167, 243, 208, 0.3);
            border-color: rgba(167, 243, 208, 0.8);
            animation: leader-pulse 2s infinite;
            transform: scale(1.05);
        }

        @keyframes leader-pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(167, 243, 208, 0.5); }
            50% { box-shadow: 0 0 25px rgba(167, 243, 208, 0.8); }
        }

        .cluster-node.active {
            background: rgba(167, 243, 208, 0.2);
            border-color: rgba(167, 243, 208, 0.6);
            animation: active-glow 1.5s infinite alternate;
        }

        @keyframes active-glow {
            0% { background: rgba(167, 243, 208, 0.2); }
            100% { background: rgba(167, 243, 208, 0.4); }
        }

        .cluster-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .cluster-name {
            font-size: 11px;
            font-weight: 600;
            color: #a7f3d0;
            margin-bottom: 2px;
        }

        .cluster-neurons {
            font-size: 9px;
            color: #ccfbf1;
            opacity: 0.7;
        }

        /* UNIQUE TO DEMO: Challenge scenarios */
        .scenarios-panel {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(167, 243, 208, 0.3);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
            position: relative;
        }

        /* UNIQUE TO DEMO: Scenario selection */
        .scenario-selection {
            margin-bottom: 24px;
            position: relative;
            z-index: 1;
        }

        .scenarios-title {
            color: #a7f3d0;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            text-align: center;
        }

        .scenario-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .scenario-button {
            background: rgba(167, 243, 208, 0.1);
            border: 2px solid rgba(167, 243, 208, 0.3);
            color: #a7f3d0;
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .scenario-button:hover {
            background: rgba(167, 243, 208, 0.2);
            border-color: rgba(167, 243, 208, 0.6);
            transform: translateX(3px);
        }

        .scenario-button.active {
            background: rgba(167, 243, 208, 0.3);
            border-color: rgba(167, 243, 208, 0.8);
            color: white;
        }

        .button-title {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .button-description {
            font-size: 10px;
            opacity: 0.8;
        }

        /* UNIQUE TO DEMO: Processing flow */
        .processing-flow {
            position: relative;
            z-index: 1;
        }

        .flow-title {
            color: #a7f3d0;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .flow-steps {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            font-family: monospace;
            font-size: 11px;
            line-height: 1.6;
            color: #ccfbf1;
            min-height: 200px;
            max-height: 200px;
            overflow-y: auto;
        }

        .flow-entry {
            margin-bottom: 4px;
            opacity: 0;
            animation: flow-appear 0.5s ease forwards;
        }

        @keyframes flow-appear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .flow-timestamp {
            color: #0d9488;
            margin-right: 8px;
        }

        .flow-cluster {
            color: #10b981;
            margin-right: 8px;
            font-weight: bold;
        }

        .flow-action {
            color: #ccfbf1;
        }

        .flow-leader {
            color: #fbbf24 !important;
            font-weight: bold;
        }

        /* UNIQUE TO DEMO: Neural connections visualization */
        .connections-display {
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .connections-title {
            color: #a7f3d0;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .connections-network {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            min-height: 120px;
            position: relative;
            overflow: hidden;
        }

        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, rgba(167, 243, 208, 0.5), rgba(167, 243, 208, 0.8), rgba(167, 243, 208, 0.5));
            animation: connection-flow 2s infinite;
            pointer-events: none;
        }

        @keyframes connection-flow {
            0% { opacity: 0.3; transform: scaleX(0); }
            50% { opacity: 1; transform: scaleX(1); }
            100% { opacity: 0.3; transform: scaleX(0); }
        }

        .connection-info {
            color: #ccfbf1;
            font-size: 12px;
            text-align: center;
            padding-top: 40px;
        }

        /* REUSABLE: Comparison section */
        .comparison-section {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(167, 243, 208, 0.3);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
        }

        .comparison-title {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
            color: #a7f3d0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-item {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid;
        }

        .traditional-ai {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .soul-cluster {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .comparison-item h4 {
            margin-bottom: 12px;
            font-size: 16px;
            font-weight: 600;
        }

        .traditional-ai h4 {
            color: #fca5a5;
        }

        .soul-cluster h4 {
            color: #a7f3d0;
        }

        .comparison-list {
            list-style: none;
            margin: 0;
        }

        .comparison-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 16px;
            font-size: 14px;
            line-height: 1.4;
            color: #ccfbf1;
        }

        .comparison-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .traditional-ai .comparison-list li::before {
            color: #ef4444;
        }

        .soul-cluster .comparison-list li::before {
            color: #10b981;
        }
		
        /* Action Buttons */
        .action-section {
            text-align: center;
            margin-top: 3rem;
        }

        .action-button {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }
		
		.demo-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(226, 232, 240, 0.2);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
		
    </style>
</head>
<body>
    <!-- Navigation -->
    <div>
        <div id="navigation-placeholder"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🧠 Neuron Cluster Construct</h1>
            <p>Experience specialized intelligence coordination through dynamic leadership and cluster collaboration</p>
        </div>

        <!-- Demo Container -->
        <div class="demo-container">
            <!-- Cluster Network Panel -->
            <div class="cluster-panel">
                <div class="panel-header">
                    <div class="panel-icon">🌐</div>
                    <div>
                        <div class="panel-title">Specialized Clusters</div>
                        <div class="panel-subtitle">9 Brain Departments</div>
                    </div>
                </div>

                <!-- Cluster Grid -->
                <div class="cluster-grid" id="clusterGrid">
                    <div class="cluster-node" data-cluster="web">
                        <div class="cluster-icon">🌐</div>
                        <div class="cluster-name">Web Cluster</div>
                        <div class="cluster-neurons">10M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="design">
                        <div class="cluster-icon">🎨</div>
                        <div class="cluster-name">Design Cluster</div>
                        <div class="cluster-neurons">15M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="sound">
                        <div class="cluster-icon">🎵</div>
                        <div class="cluster-name">Sound Cluster</div>
                        <div class="cluster-neurons">12M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="write">
                        <div class="cluster-icon">✍️</div>
                        <div class="cluster-name">Write Cluster</div>
                        <div class="cluster-neurons">20M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="logic">
                        <div class="cluster-icon">🧮</div>
                        <div class="cluster-name">Logic Cluster</div>
                        <div class="cluster-neurons">25M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="physical">
                        <div class="cluster-icon">⚙️</div>
                        <div class="cluster-name">Physical Cluster</div>
                        <div class="cluster-neurons">18M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="psychology">
                        <div class="cluster-icon">🧠</div>
                        <div class="cluster-name">Psychology Cluster</div>
                        <div class="cluster-neurons">15M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="memory">
                        <div class="cluster-icon">💾</div>
                        <div class="cluster-name">Memory Cluster</div>
                        <div class="cluster-neurons">30M neurons</div>
                    </div>
                    <div class="cluster-node" data-cluster="intuition">
                        <div class="cluster-icon">💫</div>
                        <div class="cluster-name">Intuition Cluster</div>
                        <div class="cluster-neurons">8M neurons</div>
                    </div>
                </div>

                <!-- Neural Connections -->
                <div class="connections-display">
                    <div class="connections-title">Active Neural Connections</div>
                    <div class="connections-network" id="connectionsNetwork">
                        <div class="connection-info" id="connectionInfo">
                            Select a scenario to see cluster coordination in action
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scenarios Panel -->
            <div class="scenarios-panel">
                <div class="panel-header">
                    <div class="panel-icon">🎯</div>
                    <div>
                        <div class="panel-title">Challenge Scenarios</div>
                        <div class="panel-subtitle">Dynamic Leadership Selection</div>
                    </div>
                </div>

                <!-- Scenario Selection -->
                <div class="scenario-selection">
                    <div class="scenarios-title">Test Cluster Coordination</div>
                    <div class="scenario-buttons">
                        <button class="scenario-button" onclick="runScenario('website')">
                            <div class="button-title">🌐 Website Design</div>
                            <div class="button-description">Design + Web + Psychology leads</div>
                        </button>
                        <button class="scenario-button" onclick="runScenario('math')">
                            <div class="button-title">🧮 Complex Math</div>
                            <div class="button-description">Logic leads with Memory support</div>
                        </button>
                        <button class="scenario-button" onclick="runScenario('therapy')">
                            <div class="button-title">🧠 Therapy Session</div>
                            <div class="button-description">Psychology + Write coordination</div>
                        </button>
                        <button class="scenario-button" onclick="runScenario('music')">
                            <div class="button-title">🎵 Music Creation</div>
                            <div class="button-description">Sound + Design + Intuition</div>
                        </button>
                        <button class="scenario-button" onclick="runScenario('invention')">
                            <div class="button-title">⚙️ Engineering Solution</div>
                            <div class="button-description">Physical + Logic + Design</div>
                        </button>
                        <button class="scenario-button" onclick="runScenario('story')">
                            <div class="button-title">✍️ Creative Writing</div>
                            <div class="button-description">Write + Psychology + Memory</div>
                        </button>
                    </div>
                </div>

                <!-- Processing Flow -->
                <div class="processing-flow">
                    <div class="flow-title">Processing Flow</div>
                    <div class="flow-steps" id="flowSteps">
                        <div class="flow-entry">
                            <span class="flow-timestamp">[00:00:01]</span>
                            <span class="flow-cluster">[SYSTEM]</span>
                            <span class="flow-action">Neuron Cluster Construct initialized</span>
                        </div>
                        <div class="flow-entry">
                            <span class="flow-timestamp">[00:00:02]</span>
                            <span class="flow-cluster">[NETWORK]</span>
                            <span class="flow-action">9 specialized clusters online and ready</span>
                        </div>
                        <div class="flow-entry">
                            <span class="flow-timestamp">[00:00:03]</span>
                            <span class="flow-cluster">[STATUS]</span>
                            <span class="flow-action">Dynamic leadership system active</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section">
            <h3 class="comparison-title">Traditional AI Processing vs Soul AI Cluster System</h3>
            <div class="comparison-grid">
                <div class="comparison-item traditional-ai">
                    <h4>Traditional AI Approach</h4>
                    <ul class="comparison-list">
                        <li>Single monolithic processing unit</li>
                        <li>No specialized intelligence domains</li>
                        <li>Fixed processing approach for all tasks</li>
                        <li>Limited parallel processing capabilities</li>
                        <li>No dynamic leadership or coordination</li>
                        <li>Single point of failure vulnerability</li>
                        <li>Cannot adapt processing style to problem type</li>
                    </ul>
                </div>
                <div class="comparison-item soul-cluster">
                    <h4>Soul AI Cluster System</h4>
                    <ul class="comparison-list">
                        <li>9 specialized intelligence clusters with expert domains</li>
                        <li>Dynamic leadership based on challenge type</li>
                        <li>True parallel processing across all clusters</li>
                        <li>Seamless collaboration and coordination</li>
                        <li>Fault tolerance through distributed processing</li>
                        <li>Adaptive architecture (4-15+ clusters possible)</li>
                        <li>Expert-level thinking in each specialized domain</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Action Buttons -->
	<section class="action-section">
		<div class="action-button">
			<a href="../../system-reference/cluster-construct-overview.html" class="action-button demo-button">
				<span>🎮</span>
				System Overview
			</a>
			<a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/02%20-%20systems01%20-%20Core%20Consciousness%20systemsNeuron%20Cluster%20Construct%20-%20Complete%20Technical%20Documentation.md" class="action-button docs-button">
				<span>📚</span>
				Technical Documentation
			</a>
		</div>
	</section>

    <script>
        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        let activeScenario = null;
        let flowEntries = [];
        let currentLeader = null;
        
        const CLUSTERS = {
            web: { name: 'Web Cluster', neurons: '10M', icon: '🌐' },
            design: { name: 'Design Cluster', neurons: '15M', icon: '🎨' },
            sound: { name: 'Sound Cluster', neurons: '12M', icon: '🎵' },
            write: { name: 'Write Cluster', neurons: '20M', icon: '✍️' },
            logic: { name: 'Logic Cluster', neurons: '25M', icon: '🧮' },
            physical: { name: 'Physical Cluster', neurons: '18M', icon: '⚙️' },
            psychology: { name: 'Psychology Cluster', neurons: '15M', icon: '🧠' },
            memory: { name: 'Memory Cluster', neurons: '30M', icon: '💾' },
            intuition: { name: 'Intuition Cluster', neurons: '8M', icon: '💫' }
        };

        const SCENARIOS = {
            website: {
                name: 'Website Design Challenge',
                leader: 'design',
                supporting: ['web', 'psychology', 'write'],
                steps: [
                    { cluster: 'design', action: 'Analyzing visual design requirements and aesthetic needs', delay: 1000 },
                    { cluster: 'psychology', action: 'Understanding user psychology and behavior patterns', delay: 1500 },
                    { cluster: 'web', action: 'Evaluating technical feasibility and web standards', delay: 1200 },
                    { cluster: 'write', action: 'Crafting compelling copy and content structure', delay: 1300 },
                    { cluster: 'memory', action: 'Accessing best practices from successful designs', delay: 1000 },
                    { cluster: 'design', action: 'Synthesizing all inputs into cohesive design solution', delay: 1500 }
                ]
            },
            math: {
                name: 'Complex Mathematical Problem',
                leader: 'logic',
                supporting: ['memory', 'intuition'],
                steps: [
                    { cluster: 'logic', action: 'Breaking down complex mathematical relationships', delay: 1200 },
                    { cluster: 'memory', action: 'Retrieving relevant mathematical theorems and methods', delay: 1000 },
                    { cluster: 'intuition', action: 'Sensing patterns and potential solution pathways', delay: 1400 },
                    { cluster: 'logic', action: 'Applying systematic analytical reasoning', delay: 1600 },
                    { cluster: 'logic', action: 'Verifying solution accuracy and completeness', delay: 1200 }
                ]
            },
            therapy: {
                name: 'Therapeutic Session',
                leader: 'psychology',
                supporting: ['write', 'memory', 'intuition'],
                steps: [
                    { cluster: 'psychology', action: 'Assessing emotional state and psychological needs', delay: 1300 },
                    { cluster: 'memory', action: 'Accessing therapeutic techniques and case studies', delay: 1100 },
                    { cluster: 'intuition', action: 'Sensing underlying emotional patterns and needs', delay: 1400 },
                    { cluster: 'write', action: 'Crafting empathetic and healing communication', delay: 1500 },
                    { cluster: 'psychology', action: 'Providing integrated therapeutic guidance', delay: 1600 }
                ]
            },
            music: {
                name: 'Music Composition',
                leader: 'sound',
                supporting: ['design', 'intuition', 'memory'],
                steps: [
                    { cluster: 'sound', action: 'Analyzing musical structure and harmonic relationships', delay: 1200 },
                    { cluster: 'intuition', action: 'Channeling creative musical inspiration', delay: 1400 },
                    { cluster: 'design', action: 'Structuring aesthetic flow and musical architecture', delay: 1300 },
                    { cluster: 'memory', action: 'Drawing from musical knowledge and successful compositions', delay: 1100 },
                    { cluster: 'sound', action: 'Synthesizing all elements into cohesive musical piece', delay: 1700 }
                ]
            },
            invention: {
                name: 'Engineering Innovation',
                leader: 'physical',
                supporting: ['logic', 'design', 'memory'],
                steps: [
                    { cluster: 'physical', action: 'Analyzing physical constraints and engineering requirements', delay: 1400 },
                    { cluster: 'logic', action: 'Calculating structural integrity and performance metrics', delay: 1300 },
                    { cluster: 'design', action: 'Optimizing form factor and aesthetic integration', delay: 1200 },
                    { cluster: 'memory', action: 'Accessing engineering principles and successful innovations', delay: 1100 },
                    { cluster: 'physical', action: 'Finalizing practical engineering solution', delay: 1600 }
                ]
            },
            story: {
                name: 'Creative Storytelling',
                leader: 'write',
                supporting: ['psychology', 'memory', 'intuition'],
                steps: [
                    { cluster: 'write', action: 'Establishing narrative structure and storytelling approach', delay: 1300 },
                    { cluster: 'psychology', action: 'Developing authentic character psychology and motivations', delay: 1400 },
                    { cluster: 'memory', action: 'Drawing from literary knowledge and storytelling techniques', delay: 1200 },
                    { cluster: 'intuition', action: 'Sensing narrative flow and emotional resonance', delay: 1500 },
                    { cluster: 'write', action: 'Weaving all elements into compelling narrative', delay: 1700 }
                ]
            }
        };

        function runScenario(scenarioKey) {
            const scenario = SCENARIOS[scenarioKey];
            if (!scenario) return;
            
            activeScenario = scenarioKey;
            
            // Reset UI
            resetClusters();
            document.querySelectorAll('.scenario-button').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[onclick="runScenario('${scenarioKey}')"]`).classList.add('active');
            
            addFlowEntry('SCENARIO', `Initiating: ${scenario.name}`);
            
            // Set leader
            setTimeout(() => {
                setClusterLeader(scenario.leader);
                addFlowEntry('LEADERSHIP', `${CLUSTERS[scenario.leader].name} assumes leadership`, true);
                
                // Activate supporting clusters
                scenario.supporting.forEach((cluster, index) => {
                    setTimeout(() => {
                        activateCluster(cluster);
                        addFlowEntry(cluster.toUpperCase(), `${CLUSTERS[cluster].name} activated for support`);
                    }, (index + 1) * 300);
                });
                
                // Start processing steps
                let totalDelay = 1000;
                scenario.steps.forEach((step, index) => {
                    setTimeout(() => {
                        addFlowEntry(step.cluster.toUpperCase(), step.action);
                        pulseCluster(step.cluster);
                    }, totalDelay);
                    totalDelay += step.delay;
                });
                
                // Complete scenario
                setTimeout(() => {
                    addFlowEntry('SUCCESS', `${scenario.name} completed successfully`);
                    showConnections(scenario.leader, scenario.supporting);
                }, totalDelay + 500);
                
            }, 800);
        }

        function resetClusters() {
            document.querySelectorAll('.cluster-node').forEach(node => {
                node.classList.remove('leader', 'active');
            });
            currentLeader = null;
            
            const connectionsNetwork = document.getElementById('connectionsNetwork');
            connectionsNetwork.innerHTML = '<div class="connection-info">Processing cluster coordination...</div>';
        }

        function setClusterLeader(clusterKey) {
            const clusterNode = document.querySelector(`[data-cluster="${clusterKey}"]`);
            if (clusterNode) {
                clusterNode.classList.add('leader');
                currentLeader = clusterKey;
            }
        }

        function activateCluster(clusterKey) {
            const clusterNode = document.querySelector(`[data-cluster="${clusterKey}"]`);
            if (clusterNode && !clusterNode.classList.contains('leader')) {
                clusterNode.classList.add('active');
            }
        }

        function pulseCluster(clusterKey) {
            const clusterNode = document.querySelector(`[data-cluster="${clusterKey}"]`);
            if (clusterNode) {
                clusterNode.style.animation = 'none';
                setTimeout(() => {
                    if (clusterNode.classList.contains('leader')) {
                        clusterNode.style.animation = 'leader-pulse 2s infinite';
                    } else {
                        clusterNode.style.animation = 'active-glow 1.5s infinite alternate';
                    }
                }, 10);
            }
        }

        function showConnections(leader, supporting) {
            const connectionsNetwork = document.getElementById('connectionsNetwork');
            const leaderCluster = CLUSTERS[leader];
            const supportingNames = supporting.map(key => CLUSTERS[key].name).join(', ');
            
            connectionsNetwork.innerHTML = `
                <div class="connection-info">
                    <strong>${leaderCluster.icon} ${leaderCluster.name}</strong> coordinating with:<br>
                    ${supportingNames}<br><br>
                    <small>Neural pathways active: ${supporting.length + 1} clusters collaborating</small>
                </div>
            `;
        }

        function addFlowEntry(cluster, action, isLeader = false) {
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'flow-entry';
            
            const clusterClass = isLeader ? 'flow-leader' : 'flow-cluster';
            entry.innerHTML = `
                <span class="flow-timestamp">[${timestamp}]</span>
                <span class="${clusterClass}">[${cluster}]</span>
                <span class="flow-action">${action}</span>
            `;
            
            const flowSteps = document.getElementById('flowSteps');
            flowSteps.insertBefore(entry, flowSteps.firstChild);
            
            // Keep only last 12 entries
            const entries = flowSteps.querySelectorAll('.flow-entry');
            if (entries.length > 12) {
                entries[entries.length - 1].remove();
            }
            
            // Scroll to top to show latest entry
            flowSteps.scrollTop = 0;
        }

        // Initialize with default state
        addFlowEntry('INIT', 'All specialized clusters initialized and ready');
        addFlowEntry('NETWORK', '153M total neurons distributed across 9 clusters');
        addFlowEntry('STATUS', 'Dynamic leadership system online');
    </script>
</body>
</html>