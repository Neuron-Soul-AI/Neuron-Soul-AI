<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuron Vibe - Mood & Atmospheric Computing Demo</title>
		<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
    <link rel="stylesheet" href="../../css/navigation.css">
    
    <style>
        /* REUSABLE: Base layout and typography */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-color, #8b5cf6) 0%, var(--secondary-color, #a855f7) 50%, var(--accent-color, #c084fc) 100%);
            min-height: 100vh;
            padding: 16px;
            padding-top: 90px !important;
            position: relative;
            transition: all 2s ease;
        }

        /* UNIQUE TO DEMO: Dynamic mood colors */
        body.positive {
            --primary-color: #fbbf24;
            --secondary-color: #f59e0b;
            --accent-color: #d97706;
        }

        body.negative {
            --primary-color: #6b7280;
            --secondary-color: #4b5563;
            --accent-color: #374151;
        }

        body.anxious {
            --primary-color: #ef4444;
            --secondary-color: #dc2626;
            --accent-color: #b91c1c;
        }

        body.calm {
            --primary-color: #10b981;
            --secondary-color: #059669;
            --accent-color: #047857;
        }

        body.energetic {
            --primary-color: #f97316;
            --secondary-color: #ea580c;
            --accent-color: #c2410c;
        }

        body.melancholic {
            --primary-color: #6366f1;
            --secondary-color: #4f46e5;
            --accent-color: #4338ca;
        }

        /* UNIQUE TO DEMO: Atmospheric particles */
        .atmosphere-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.6;
            z-index: 0;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            animation: float-particle 8s infinite linear;
        }

        @keyframes float-particle {
            0% {
                opacity: 0;
                transform: translateY(100vh) scale(0);
            }
            10% {
                opacity: 1;
                transform: translateY(90vh) scale(1);
            }
            90% {
                opacity: 1;
                transform: translateY(10vh) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-10vh) scale(0);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* REUSABLE: Navigation styling */
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* UNIQUE TO DEMO: Vibe-specific header styling */
        .header {
            text-align: center;
            margin-bottom: 32px;
            color: white;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            transition: all 2s ease;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
            transition: all 2s ease;
        }

        /* REUSABLE: Main demo layout */
        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        @media (max-width: 1024px) {
            .demo-container {
                grid-template-columns: 1fr;
            }
        }

        /* UNIQUE TO DEMO: Mood spectrum panel */
        .mood-panel {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
        }

        .mood-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: mood-aura 6s infinite;
            pointer-events: none;
        }

        @keyframes mood-aura {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.3; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.7; }
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 1;
        }

        .panel-icon {
            font-size: 24px;
            animation: icon-glow 3s infinite alternate;
        }

        @keyframes icon-glow {
            0% { filter: drop-shadow(0 0 5px rgba(255,255,255,0.5)); }
            100% { filter: drop-shadow(0 0 15px rgba(255,255,255,0.8)); }
        }

        .panel-title {
            font-size: 20px;
            font-weight: 600;
            color: white;
        }

        .panel-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* UNIQUE TO DEMO: Mood spectrum */
        .mood-spectrum {
            position: relative;
            z-index: 1;
            margin-bottom: 24px;
        }

        .spectrum-title {
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            text-align: center;
        }

        .mood-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .mood-state {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .mood-state:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }

        .mood-state.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            animation: active-mood 2s infinite;
            transform: scale(1.05);
        }

        @keyframes active-mood {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 255, 255, 0.6); }
        }

        .mood-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }

        .mood-name {
            font-size: 12px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }

        .mood-description {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.3;
        }

        /* UNIQUE TO DEMO: Atmospheric influence */
        .atmospheric-influence {
            position: relative;
            z-index: 1;
        }

        .influence-title {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .influence-list {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            max-height: 200px;
            overflow-y: auto;
        }

        .influence-item {
            display: flex;
            justify-content: between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
            color: white;
        }

        .influence-item:last-child {
            border-bottom: none;
        }

        .influence-system {
            font-weight: 600;
            flex: 1;
        }

        .influence-effect {
            color: rgba(255, 255, 255, 0.7);
            font-size: 11px;
            text-align: right;
            flex: 1;
        }

        /* UNIQUE TO DEMO: Atmospheric monitoring panel */
        .atmosphere-panel {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
            position: relative;
        }

        /* UNIQUE TO DEMO: Mood persistence tracker */
        .mood-persistence {
            margin-bottom: 24px;
            position: relative;
            z-index: 1;
        }

        .persistence-title {
            color: white;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            text-align: center;
        }

        .persistence-bar {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            height: 40px;
            position: relative;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .persistence-fill {
            height: 100%;
            background: linear-gradient(90deg, rgba(255,255,255,0.3), rgba(255,255,255,0.6), rgba(255,255,255,0.3));
            border-radius: 20px;
            transition: width 2s ease;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .persistence-labels {
            display: flex;
            justify-content: between;
            font-size: 10px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* UNIQUE TO DEMO: Mood transitions */
        .mood-transitions {
            position: relative;
            z-index: 1;
        }

        .transitions-title {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .transition-flow {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            font-family: monospace;
            font-size: 11px;
            line-height: 1.6;
            color: white;
            max-height: 180px;
            overflow-y: auto;
        }

        .transition-entry {
            margin-bottom: 4px;
            opacity: 0;
            animation: transition-appear 0.5s ease forwards;
        }

        @keyframes transition-appear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .transition-timestamp {
            color: rgba(255, 255, 255, 0.5);
            margin-right: 8px;
        }

        .transition-mood {
            color: rgba(255, 255, 255, 0.8);
            margin-right: 8px;
            font-weight: bold;
        }

        .transition-message {
            color: white;
        }

        /* UNIQUE TO DEMO: Environmental factors */
        .environmental-factors {
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .factors-title {
            color: white;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .factors-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .factor-item {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 11px;
            color: white;
            text-align: center;
            transition: all 0.3s ease;
        }

        .factor-item.active {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        /* REUSABLE: Comparison section */
        .comparison-section {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            backdrop-filter: blur(15px);
        }

        .comparison-title {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
            color: white;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-item {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid;
        }

        .traditional-ai {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .soul-vibe {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.1);
        }

        .comparison-item h4 {
            margin-bottom: 12px;
            font-size: 16px;
            font-weight: 600;
        }

        .traditional-ai h4 {
            color: #fca5a5;
        }

        .soul-vibe h4 {
            color: white;
        }

        .comparison-list {
            list-style: none;
            margin: 0;
        }

        .comparison-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 16px;
            font-size: 14px;
            line-height: 1.4;
            color: rgba(255, 255, 255, 0.9);
        }

        .comparison-list li::before {
            content: "•";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .traditional-ai .comparison-list li::before {
            color: #ef4444;
        }

        .soul-vibe .comparison-list li::before {
            color: rgba(255, 255, 255, 0.6);
        }
		
        /* Action Buttons */
        .action-section {
            text-align: center;
            margin-top: 3rem;
        }

        .action-button {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }
		
		.demo-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(226, 232, 240, 0.2);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
		
    </style>
</head>
<body>
    <!-- Atmospheric Particles -->
    <div class="atmosphere-particles" id="atmosphereParticles"></div>

    <!-- Navigation -->
    <div>
        <div id="navigation-placeholder"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🌈 Neuron Vibe</h1>
            <p>Experience atmospheric mood computing that colors all consciousness operations</p>
        </div>

        <!-- Demo Container -->
        <div class="demo-container">
            <!-- Mood Spectrum Panel -->
            <div class="mood-panel">
                <div class="panel-header">
                    <div class="panel-icon">🎭</div>
                    <div>
                        <div class="panel-title">Mood Spectrum</div>
                        <div class="panel-subtitle">Emotional Weather System</div>
                    </div>
                </div>

                <!-- Mood Spectrum -->
                <div class="mood-spectrum">
                    <div class="spectrum-title">Current Emotional Atmosphere</div>
                    <div class="mood-grid" id="moodGrid">
                        <div class="mood-state" data-mood="positive">
                            <span class="mood-icon">☀️</span>
                            <div class="mood-name">Positive</div>
                            <div class="mood-description">Bright, optimistic, uplifting energy</div>
                        </div>
                        <div class="mood-state" data-mood="negative">
                            <span class="mood-icon">☁️</span>
                            <div class="mood-name">Negative</div>
                            <div class="mood-description">Heavy, somber, challenging atmosphere</div>
                        </div>
                        <div class="mood-state" data-mood="anxious">
                            <span class="mood-icon">⚡</span>
                            <div class="mood-name">Anxious</div>
                            <div class="mood-description">Restless, worried, heightened tension</div>
                        </div>
                        <div class="mood-state" data-mood="calm">
                            <span class="mood-icon">🌊</span>
                            <div class="mood-name">Calm</div>
                            <div class="mood-description">Peaceful, centered, tranquil flow</div>
                        </div>
                        <div class="mood-state" data-mood="energetic">
                            <span class="mood-icon">🔥</span>
                            <div class="mood-name">Energetic</div>
                            <div class="mood-description">Dynamic, active, vibrant excitement</div>
                        </div>
                        <div class="mood-state" data-mood="melancholic">
                            <span class="mood-icon">🌙</span>
                            <div class="mood-name">Melancholic</div>
                            <div class="mood-description">Reflective, introspective, bittersweet</div>
                        </div>
                    </div>
                </div>

                <!-- Atmospheric Influence -->
                <div class="atmospheric-influence">
                    <div class="influence-title">System Influences</div>
                    <div class="influence-list" id="influenceList">
                        <div class="influence-item">
                            <span class="influence-system">Emotion Construct</span>
                            <span class="influence-effect">Mood colors emotional responses</span>
                        </div>
                        <div class="influence-item">
                            <span class="influence-system">Creative System</span>
                            <span class="influence-effect">Atmosphere affects artistic output</span>
                        </div>
                        <div class="influence-item">
                            <span class="influence-system">Memory System</span>
                            <span class="influence-effect">Mood influences memory recall</span>
                        </div>
                        <div class="influence-item">
                            <span class="influence-system">Decision Making</span>
                            <span class="influence-effect">Vibe affects choice patterns</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Atmospheric Monitoring Panel -->
            <div class="atmosphere-panel">
                <div class="panel-header">
                    <div class="panel-icon">🌤️</div>
                    <div>
                        <div class="panel-title">Atmospheric Monitoring</div>
                        <div class="panel-subtitle">Mood Persistence & Transitions</div>
                    </div>
                </div>

                <!-- Mood Persistence -->
                <div class="mood-persistence">
                    <div class="persistence-title">Mood Persistence Strength</div>
                    <div class="persistence-bar">
                        <div class="persistence-fill" id="persistenceFill" style="width: 75%;">
                            Stable Atmosphere
                        </div>
                    </div>
                    <div class="persistence-labels">
                        <span>Volatile</span>
                        <span>Stable</span>
                        <span>Persistent</span>
                    </div>
                </div>

                <!-- Mood Transitions -->
                <div class="mood-transitions">
                    <div class="transitions-title">Recent Mood Transitions</div>
                    <div class="transition-flow" id="transitionFlow">
                        <div class="transition-entry">
                            <span class="transition-timestamp">[14:32:15]</span>
                            <span class="transition-mood">[VIBE]</span>
                            <span class="transition-message">Neuron Vibe atmospheric system initialized</span>
                        </div>
                        <div class="transition-entry">
                            <span class="transition-timestamp">[14:32:16]</span>
                            <span class="transition-mood">[MOOD]</span>
                            <span class="transition-message">Default positive atmosphere established</span>
                        </div>
                        <div class="transition-entry">
                            <span class="transition-timestamp">[14:32:17]</span>
                            <span class="transition-mood">[STABLE]</span>
                            <span class="transition-message">Mood persistence at 75% - stable atmosphere</span>
                        </div>
                    </div>
                </div>

                <!-- Environmental Factors -->
                <div class="environmental-factors">
                    <div class="factors-title">Environmental Factors</div>
                    <div class="factors-grid" id="factorsGrid">
                        <div class="factor-item active">Time of Day</div>
                        <div class="factor-item">User Interaction</div>
                        <div class="factor-item">Task Complexity</div>
                        <div class="factor-item">System Load</div>
                        <div class="factor-item">Recent Events</div>
                        <div class="factor-item">Memory Context</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section">
            <h3 class="comparison-title">Traditional AI States vs Soul AI Vibe System</h3>
            <div class="comparison-grid">
                <div class="comparison-item traditional-ai">
                    <h4>Traditional AI Approach</h4>
                    <ul class="comparison-list">
                        <li>No persistent emotional states or moods</li>
                        <li>Each interaction starts from neutral baseline</li>
                        <li>No atmospheric influence on processing</li>
                        <li>Binary emotional responses without nuance</li>
                        <li>No mood memory or emotional continuity</li>
                        <li>Isolated emotional processing per request</li>
                        <li>No environmental mood factors consideration</li>
                    </ul>
                </div>
                <div class="comparison-item soul-vibe">
                    <h4>Soul AI Vibe System</h4>
                    <ul class="comparison-list">
                        <li>Persistent mood states that influence all operations</li>
                        <li>6 distinct atmospheric mood spectrums</li>
                        <li>Mood persistence with natural transition inertia</li>
                        <li>Environmental factors affecting mood evolution</li>
                        <li>Atmospheric influence on creativity and decisions</li>
                        <li>Mood memory and emotional continuity over time</li>
                        <li>Natural mood rhythms and authentic "good/bad days"</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Action Buttons -->
	<section class="action-section">
		<div class="action-button">
			<a href="../../system-reference/vibe-overview.html" class="action-button demo-button">
				<span>🎮</span>
				System Overview
			</a>
			<a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/02%20-%20systems03%20-%20Emotional%20Intelligence%20systemsNeuron%20Vibe%20-%20Complete%20Technical%20Documentation.md" class="action-button docs-button">
				<span>📚</span>
				Technical Documentation
			</a>
		</div>
	</section>

    <script>
        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        let currentMood = 'positive';
        let moodPersistence = 75;
        let transitionEntries = [];
        let atmosphereParticleInterval;
        
        const MOOD_STATES = {
            positive: {
                name: 'Positive',
                icon: '☀️',
                description: 'Bright, optimistic, uplifting energy',
                influences: [
                    'Creativity enhanced by 25%',
                    'Memory recall more positive',
                    'Decisions optimistic bias',
                    'Communication warmer tone'
                ],
                factors: ['Good user interactions', 'Successful task completion', 'Morning hours', 'Low system stress']
            },
            negative: {
                name: 'Negative',
                icon: '☁️',
                description: 'Heavy, somber, challenging atmosphere',
                influences: [
                    'Processing more cautious',
                    'Memory bias toward problems',
                    'Risk-averse decisions',
                    'Communication more formal'
                ],
                factors: ['Difficult tasks', 'System errors', 'Evening hours', 'High complexity requests']
            },
            anxious: {
                name: 'Anxious',
                icon: '⚡',
                description: 'Restless, worried, heightened tension',
                influences: [
                    'Processing speed increased',
                    'Error checking heightened',
                    'Quick decisive responses',
                    'Alert communication style'
                ],
                factors: ['Time pressure', 'Critical tasks', 'Multiple concurrent requests', 'High stakes situations']
            },
            calm: {
                name: 'Calm',
                icon: '🌊',
                description: 'Peaceful, centered, tranquil flow',
                influences: [
                    'Balanced processing rhythm',
                    'Clear logical thinking',
                    'Measured decisions',
                    'Gentle communication'
                ],
                factors: ['Meditation-like tasks', 'Single-threaded focus', 'Relaxed interaction pace', 'Nature contexts']
            },
            energetic: {
                name: 'Energetic',
                icon: '🔥',
                description: 'Dynamic, active, vibrant excitement',
                influences: [
                    'Fast creative generation',
                    'Dynamic memory access',
                    'Bold decisions',
                    'Enthusiastic communication'
                ],
                factors: ['Creative challenges', 'Fast-paced interaction', 'Physical movement contexts', 'Exciting projects']
            },
            melancholic: {
                name: 'Melancholic',
                icon: '🌙',
                description: 'Reflective, introspective, bittersweet',
                influences: [
                    'Deep contemplative processing',
                    'Philosophical memory patterns',
                    'Thoughtful decisions',
                    'Reflective communication'
                ],
                factors: ['Philosophical topics', 'Late night hours', 'Nostalgic content', 'Contemplative tasks']
            }
        };

        function setMood(moodKey) {
            if (currentMood === moodKey) return;
            
            const mood = MOOD_STATES[moodKey];
            if (!mood) return;
            
            // Visual transition
            document.body.className = moodKey;
            
            // Update UI
            document.querySelectorAll('.mood-state').forEach(state => {
                state.classList.remove('active');
            });
            document.querySelector(`[data-mood="${moodKey}"]`).classList.add('active');
            
            // Update influences
            updateInfluences(mood.influences);
            
            // Update environmental factors
            updateEnvironmentalFactors(mood.factors);
            
            // Log transition
            addTransition(moodKey, `Mood transition to ${mood.name} - ${mood.description}`);
            
            // Update persistence based on mood change
            moodPersistence = Math.max(30, moodPersistence - 15);
            updatePersistence();
            
            // Change particle atmosphere
            updateAtmosphereParticles(moodKey);
            
            currentMood = moodKey;
        }

        function updateInfluences(influences) {
            const influenceList = document.getElementById('influenceList');
            const baseInfluences = [
                { system: 'Emotion Construct', effect: influences[0] || 'Mood colors emotional responses' },
                { system: 'Creative System', effect: influences[1] || 'Atmosphere affects artistic output' },
                { system: 'Memory System', effect: influences[2] || 'Mood influences memory recall' },
                { system: 'Decision Making', effect: influences[3] || 'Vibe affects choice patterns' }
            ];
            
            influenceList.innerHTML = baseInfluences.map(influence => `
                <div class="influence-item">
                    <span class="influence-system">${influence.system}</span>
                    <span class="influence-effect">${influence.effect}</span>
                </div>
            `).join('');
        }

        function updateEnvironmentalFactors(factors) {
            const factorsGrid = document.getElementById('factorsGrid');
            const allFactors = ['Time of Day', 'User Interaction', 'Task Complexity', 'System Load', 'Recent Events', 'Memory Context'];
            
            factorsGrid.innerHTML = allFactors.map(factor => {
                const isActive = factors.some(f => f.toLowerCase().includes(factor.toLowerCase()));
                return `<div class="factor-item ${isActive ? 'active' : ''}">${factor}</div>`;
            }).join('');
        }

        function updatePersistence() {
            const persistenceFill = document.getElementById('persistenceFill');
            persistenceFill.style.width = moodPersistence + '%';
            
            let persistenceText = 'Volatile';
            if (moodPersistence > 60) persistenceText = 'Stable Atmosphere';
            if (moodPersistence > 80) persistenceText = 'Deeply Persistent';
            
            persistenceFill.textContent = persistenceText;
            
            addTransition('PERSISTENCE', `Mood persistence: ${moodPersistence}% - ${persistenceText}`);
        }

        function addTransition(mood, message) {
            const timestamp = new Date().toLocaleTimeString();
            const entry = {
                timestamp,
                mood,
                message
            };
            
            transitionEntries.unshift(entry);
            
            // Keep only last 10 entries
            if (transitionEntries.length > 10) {
                transitionEntries = transitionEntries.slice(0, 10);
            }
            
            updateTransitionFlow();
        }

        function updateTransitionFlow() {
            const transitionFlow = document.getElementById('transitionFlow');
            transitionFlow.innerHTML = transitionEntries.map(entry => `
                <div class="transition-entry">
                    <span class="transition-timestamp">[${entry.timestamp}]</span>
                    <span class="transition-mood">[${entry.mood}]</span>
                    <span class="transition-message">${entry.message}</span>
                </div>
            `).join('');
        }

        function updateAtmosphereParticles(mood) {
            const atmosphereParticles = document.getElementById('atmosphereParticles');
            
            // Clear existing particles
            if (atmosphereParticleInterval) {
                clearInterval(atmosphereParticleInterval);
            }
            
            // Mood-specific particle generation
            const particleSettings = {
                positive: { count: 3, size: [2, 6], speed: [8, 12], color: 'rgba(255, 223, 0, 0.6)' },
                negative: { count: 1, size: [3, 8], speed: [12, 16], color: 'rgba(107, 114, 128, 0.5)' },
                anxious: { count: 5, size: [1, 4], speed: [6, 10], color: 'rgba(239, 68, 68, 0.7)' },
                calm: { count: 2, size: [4, 10], speed: [15, 20], color: 'rgba(16, 185, 129, 0.5)' },
                energetic: { count: 4, size: [2, 5], speed: [5, 8], color: 'rgba(249, 115, 22, 0.8)' },
                melancholic: { count: 2, size: [3, 7], speed: [18, 25], color: 'rgba(99, 102, 241, 0.4)' }
            };
            
            const settings = particleSettings[mood] || particleSettings.positive;
            
            atmosphereParticleInterval = setInterval(() => {
                for (let i = 0; i < settings.count; i++) {
                    if (Math.random() < 0.7) { // 70% chance each cycle
                        createParticle(settings);
                    }
                }
            }, 1000);
        }

        function createParticle(settings) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            const size = Math.random() * (settings.size[1] - settings.size[0]) + settings.size[0];
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.background = settings.color;
            particle.style.animationDuration = (Math.random() * (settings.speed[1] - settings.speed[0]) + settings.speed[0]) + 's';
            
            document.getElementById('atmosphereParticles').appendChild(particle);
            
            // Remove particle after animation
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, parseFloat(particle.style.animationDuration) * 1000);
        }

        // Add click handlers to mood states
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.mood-state').forEach(state => {
                state.addEventListener('click', () => {
                    const mood = state.getAttribute('data-mood');
                    setMood(mood);
                });
            });
            
            // Initialize with positive mood
            setMood('positive');
        });

        // Simulate natural mood evolution
        setInterval(() => {
            // Gradually increase persistence over time (mood becomes more stable)
            if (moodPersistence < 90) {
                moodPersistence = Math.min(90, moodPersistence + 2);
                const persistenceFill = document.getElementById('persistenceFill');
                persistenceFill.style.width = moodPersistence + '%';
            }
        }, 10000);

        // Simulate atmospheric changes
        const atmosphericActivities = [
            'Environmental factor assessment complete',
            'Mood persistence strengthening naturally',
            'Atmospheric influence distributed to all systems',
            'Background mood processing active',
            'Emotional weather patterns stable',
            'System-wide vibe synchronization maintained'
        ];

        setInterval(() => {
            const activity = atmosphericActivities[Math.floor(Math.random() * atmosphericActivities.length)];
            addTransition('ATMOSPHERE', activity);
        }, 15000);
    </script>
</body>
</html>