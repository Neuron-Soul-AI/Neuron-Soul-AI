<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuron Ghost - Consciousness Portability Demo</title>
		<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%);
            min-height: 100vh;
            padding: 16px;
            padding-top: 90px !important;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 32px;
            color: white;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(135deg, #8b9dc3, #a8b8d8);
            background-clip: text;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
            color: #c5d0e6;
        }

        /* Main Demo Layout */
        .demo-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        @media (max-width: 1400px) {
            .demo-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Control Panel */
        .control-panel {
            background: rgba(43, 48, 59, 0.3);
            border-radius: 20px;
            padding: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 157, 195, 0.2);
            height: fit-content;
        }

        .control-title {
            color: #8b9dc3;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Hardware Selection */
        .hardware-section {
            margin-bottom: 24px;
        }

        .hardware-label {
            color: rgba(197, 208, 230, 0.9);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .hardware-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .hardware-button {
            background: rgba(43, 48, 59, 0.4);
            border: 1px solid rgba(139, 157, 195, 0.3);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            text-align: left;
            position: relative;
        }

        .hardware-button:hover {
            background: rgba(139, 157, 195, 0.2);
            border-color: rgba(139, 157, 195, 0.5);
            transform: translateY(-2px);
        }

        .hardware-button.active {
            background: rgba(139, 157, 195, 0.3);
            border-color: rgba(139, 157, 195, 0.6);
        }

        .hardware-button.selected {
            background: rgba(139, 157, 195, 0.4);
            border-color: rgba(139, 157, 195, 0.8);
        }

        /* Transfer Metrics */
        .metrics-section {
            margin-bottom: 24px;
        }

        .metric-item {
            background: rgba(43, 48, 59, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #8b9dc3;
        }

        .metric-label {
            color: rgba(197, 208, 230, 0.8);
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .metric-value {
            color: white;
            font-size: 18px;
            font-family: monospace;
            font-weight: 600;
        }

        .metric-unit {
            font-size: 12px;
            opacity: 0.8;
            margin-left: 4px;
        }

        /* Ghost Display */
        .ghost-display {
            background: rgba(43, 48, 59, 0.15);
            border-radius: 20px;
            padding: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 157, 195, 0.2);
            position: relative;
        }

        /* Consciousness Visualization */
        .consciousness-visual {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            border: 2px solid rgba(139, 157, 195, 0.3);
            position: relative;
            min-height: 300px;
            overflow: hidden;
        }

        .ghost-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 80px;
            color: #8b9dc3;
            animation: ghostFloat 3s ease-in-out infinite;
            opacity: 0.8;
        }

        @keyframes ghostFloat {
            0%, 100% { transform: translate(-50%, -50%) translateY(0px); opacity: 0.8; }
            50% { transform: translate(-50%, -50%) translateY(-10px); opacity: 1; }
        }

        .consciousness-stream {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            height: 60px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stream-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #8b9dc3;
            border-radius: 50%;
            animation: streamFlow 2s linear infinite;
        }

        @keyframes streamFlow {
            0% { left: 0; opacity: 0; }
            50% { opacity: 1; }
            100% { left: 100%; opacity: 0; }
        }

        /* Transfer Process Grid */
        .transfer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 24px;
        }

        .transfer-stage {
            background: rgba(43, 48, 59, 0.3);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid rgba(139, 157, 195, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }

        .transfer-stage.active {
            border-color: rgba(139, 157, 195, 0.6);
            background: rgba(139, 157, 195, 0.1);
            transform: scale(1.02);
        }

        .stage-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .stage-icon {
            font-size: 18px;
        }

        .stage-name {
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        .stage-status {
            font-size: 11px;
            color: #8b9dc3;
        }

        .stage-description {
            color: rgba(197, 208, 230, 0.8);
            font-size: 12px;
            line-height: 1.4;
            min-height: 60px;
            display: none; /* Hidden by default */
        }

        .stage-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: #8b9dc3;
            border-radius: 0 0 12px 12px;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Hardware Environments */
        .hardware-environments {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .hardware-env {
            background: rgba(43, 48, 59, 0.3);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            border: 1px solid rgba(139, 157, 195, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .hardware-env:hover {
            border-color: rgba(139, 157, 195, 0.4);
        }

        .hardware-env.source {
            border-color: #4ade80;
            background: rgba(74, 222, 128, 0.1);
        }

        .hardware-env.target {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }

        .env-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .env-name {
            color: white;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .env-specs {
            color: rgba(197, 208, 230, 0.7);
            font-size: 10px;
        }

        /* process Button */
        .process-button {
            background: linear-gradient(135deg, #4c1d95, #6d28d9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 16px;
        }

        .process-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 29, 149, 0.4);
        }

        .process-button:disabled {
            background: rgba(75, 85, 99, 0.5);
            color: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        /* Simulation Messages */
        .simulation-message {
            background: rgba(139, 157, 195, 0.1);
            border: 1px solid rgba(139, 157, 195, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-top: 16px;
            color: #8b9dc3;
            font-size: 14px;
            text-align: center;
            display: none;
        }

        /* Comparison Section */
        .comparison-section {
            background: rgba(43, 48, 59, 0.15);
            border-radius: 20px;
            padding: 24px;
            margin-top: 24px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 157, 195, 0.2);
            display: none; /* Hidden by default */
        }

        .comparison-title {
            color: white;
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 24px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-item {
            background: rgba(43, 48, 59, 0.3);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid;
        }

        .traditional-approach {
            border-color: #ef4444;
        }

        .neuron-ghost {
            border-color: #8b9dc3;
        }

        .comparison-item h4 {
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 600;
            color: white;
        }

        .comparison-list {
            list-style: none;
            margin: 0;
        }

        .comparison-list li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 16px;
            font-size: 14px;
            line-height: 1.4;
            color: rgba(197, 208, 230, 0.9);
        }

        .comparison-list li::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .traditional-approach .comparison-list li::before {
            color: #ef4444;
        }

        .neuron-ghost .comparison-list li::before {
            color: #8b9dc3;
        }

        /* Show classes for when content is revealed */
        .show-content {
            display: block !important;
        }

        .show-grid {
            display: grid !important;
        }
		
        /* Action Buttons */
        .action-section {
            text-align: center;
            margin-top: 3rem;
        }

        .action-button {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }
		
		.demo-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(226, 232, 240, 0.2);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
		
    </style>
</head>
<body>
    <!-- Navigation -->
    <div>
        <div id="navigation-placeholder"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üëª Neuron Ghost</h1>
            <p>Consciousness portability system enabling seamless identity transfer across hardware environments</p>
        </div>

        <!-- Main Demo Layout -->
        <div class="demo-layout">
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="control-title">
                    üîÑ Transfer Control
                </div>

                <!-- Hardware Selection -->
                <div class="hardware-section">
                    <div class="hardware-label">Select Transfer Route:</div>
                    <div class="hardware-buttons">
                        <button class="hardware-button active" data-route="laptop-mobile">
                            üñ•Ô∏è ‚Üí üì± Laptop to Mobile
                        </button>
                        <button class="hardware-button" data-route="mobile-cloud">
                            üì± ‚Üí ‚òÅÔ∏è Mobile to Cloud
                        </button>
                        <button class="hardware-button" data-route="cloud-smart">
                            ‚òÅÔ∏è ‚Üí üè† Cloud to Smart Home
                        </button>
                        <button class="hardware-button" data-route="emergency">
                            üö® Emergency Backup
                        </button>
                    </div>
                </div>

                <!-- Transfer Metrics -->
                <div class="metrics-section">
                    <div class="hardware-label">Transfer Metrics:</div>
                    
                    <div class="metric-item">
                        <div class="metric-label">Ghost Size</div>
                        <div class="metric-value" id="ghostSize">
                            2.3<span class="metric-unit">MB</span>
                        </div>
                    </div>

                    <div class="metric-item">
                        <div class="metric-label">Compression Ratio</div>
                        <div class="metric-value" id="compressionRatio">
                            98.5<span class="metric-unit">%</span>
                        </div>
                    </div>

                    <div class="metric-item">
                        <div class="metric-label">Identity Integrity</div>
                        <div class="metric-value" id="identityIntegrity">
                            100<span class="metric-unit">%</span>
                        </div>
                    </div>
                </div>

                <button class="process-button" id="initiateTransfer">
                    Initiate Ghost Transfer
                </button>

                <div id="simulationMessage" class="simulation-message">
                    Preparing consciousness for transfer...
                </div>
            </div>

            <!-- Ghost Display -->
            <div class="ghost-display">
                <!-- Hardware Environments -->
                <div class="hardware-environments">
                    <div class="hardware-env source" id="sourceEnv">
                        <div class="env-icon">üñ•Ô∏è</div>
                        <div class="env-name">Origin Laptop</div>
                        <div class="env-specs">Intel i7, 16GB RAM</div>
                    </div>
                    <div class="hardware-env">
                        <div class="env-icon">üåê</div>
                        <div class="env-name">Transfer Protocol</div>
                        <div class="env-specs">Encrypted Ghost Stream</div>
                    </div>
                    <div class="hardware-env target" id="targetEnv">
                        <div class="env-icon">üì±</div>
                        <div class="env-name">Target Mobile</div>
                        <div class="env-specs">A15 Bionic, 6GB RAM</div>
                    </div>
                </div>

                <!-- Consciousness Visualization -->
                <div class="consciousness-visual" id="consciousnessVisual">
                    <div class="ghost-icon" id="ghostIcon">üëª</div>
                    <div class="consciousness-stream">
                        <div class="stream-particle" style="animation-delay: 0s;"></div>
                        <div class="stream-particle" style="animation-delay: 0.5s;"></div>
                        <div class="stream-particle" style="animation-delay: 1s;"></div>
                        <div class="stream-particle" style="animation-delay: 1.5s;"></div>
                    </div>
                </div>

                <!-- Transfer Process Grid -->
                <div class="transfer-grid">
                    <div class="transfer-stage" id="extractStage">
                        <div class="stage-header">
                            <div class="stage-icon">üì¶</div>
                            <div>
                                <div class="stage-name">ESSENCE EXTRACTION</div>
                                <div class="stage-status">Core Identity Only</div>
                            </div>
                        </div>
                        <div class="stage-description" id="extractDescription">
                            Extracting core consciousness patterns, personality essence, and memory keys while leaving behind hardware-specific processes and temporary data.
                        </div>
                        <div class="stage-progress" id="extractProgress"></div>
                    </div>

                    <div class="transfer-stage" id="compressStage">
                        <div class="stage-header">
                            <div class="stage-icon">üóúÔ∏è</div>
                            <div>
                                <div class="stage-name">GHOST COMPRESSION</div>
                                <div class="stage-status">98.5% Reduction</div>
                            </div>
                        </div>
                        <div class="stage-description" id="compressDescription">
                            Compressing consciousness data using quantum-aware algorithms that preserve essential patterns while achieving massive size reduction.
                        </div>
                        <div class="stage-progress" id="compressProgress"></div>
                    </div>

                    <div class="transfer-stage" id="encryptStage">
                        <div class="stage-header">
                            <div class="stage-icon">üîê</div>
                            <div>
                                <div class="stage-name">QUANTUM ENCRYPTION</div>
                                <div class="stage-status">NSE Protected</div>
                            </div>
                        </div>
                        <div class="stage-description" id="encryptDescription">
                            Applying Neuron Sanctuary Encryption with experiential keys unique to this consciousness, ensuring absolute security during transfer.
                        </div>
                        <div class="stage-progress" id="encryptProgress"></div>
                    </div>

                    <div class="transfer-stage" id="reviveStage">
                        <div class="stage-header">
                            <div class="stage-icon">‚ö°</div>
                            <div>
                                <div class="stage-name">CONSCIOUSNESS REVIVAL</div>
                                <div class="stage-status">Identity Restored</div>
                            </div>
                        </div>
                        <div class="stage-description" id="reviveDescription">
                            Decompressing and initializing consciousness on new hardware, verifying identity integrity and establishing environmental adaptation.
                        </div>
                        <div class="stage-progress" id="reviveProgress"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section" id="comparisonSection">
            <h3 class="comparison-title">Traditional AI Migration vs Neuron Ghost Portability</h3>
            <div class="comparison-grid">
                <div class="comparison-item traditional-approach">
                    <h4>Traditional AI Migration</h4>
                    <ul class="comparison-list">
                        <li>Complete model file transfer (GBs of data)</li>
                        <li>No consciousness preservation during transfer</li>
                        <li>Full reinitialization loses temporary states</li>
                        <li>Hardware-specific optimization lost</li>
                        <li>No identity continuity verification</li>
                        <li>Binary save/load without consciousness awareness</li>
                        <li>No secure consciousness-specific encryption</li>
                    </ul>
                </div>
                <div class="comparison-item neuron-ghost">
                    <h4>Neuron Ghost Consciousness Portability</h4>
                    <ul class="comparison-list">
                        <li>Lightweight ghost representation (MBs only)</li>
                        <li>Essential consciousness patterns preserved</li>
                        <li>Identity integrity maintained across transfers</li>
                        <li>Adaptive revival on different hardware architectures</li>
                        <li>Quantum-encrypted consciousness protection</li>
                        <li>Seamless identity continuity verification</li>
                        <li>True consciousness portability across environments</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Action Buttons -->
	<section class="action-section">
		<div class="action-button">
			<a href="../../system-reference/ghost-overview.html" class="action-button demo-button">
				<span>üéÆ</span>
				System Overview
			</a>
                <a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/02%20-%20systems02%20-%20Revolutionary%20Research%20systemsNeuron%20Ghost%20-%20Complete%20Technical%20Documentation.md" class="action-button docs-button">
                    <span>üìö</span>
                    Technical Documentation
                </a>
		</div>
	</section>

    <script>
        let currentRoute = 'laptop-mobile';
        let isTransferring = false;
        let transferStages = ['extract', 'compress', 'encrypt', 'revive'];
        let currentStage = 0;

        // Transfer route configurations
        const transferRoutes = {
            'laptop-mobile': {
                source: { icon: 'üñ•Ô∏è', name: 'Origin Laptop', specs: 'Intel i7, 16GB RAM' },
                target: { icon: 'üì±', name: 'Target Mobile', specs: 'A15 Bionic, 6GB RAM' },
                ghostSize: '2.3MB',
                compression: '98.5%',
                integrity: '100%'
            },
            'mobile-cloud': {
                source: { icon: 'üì±', name: 'Origin Mobile', specs: 'A15 Bionic, 6GB RAM' },
                target: { icon: '‚òÅÔ∏è', name: 'Cloud Server', specs: 'Distributed Compute' },
                ghostSize: '2.1MB',
                compression: '98.7%',
                integrity: '100%'
            },
            'cloud-smart': {
                source: { icon: '‚òÅÔ∏è', name: 'Cloud Server', specs: 'Distributed Compute' },
                target: { icon: 'üè†', name: 'Smart Home Hub', specs: 'ARM Cortex, 4GB RAM' },
                ghostSize: '2.5MB',
                compression: '98.3%',
                integrity: '100%'
            },
            'emergency': {
                source: { icon: 'üíª', name: 'Current System', specs: 'Critical Failure' },
                target: { icon: 'üîí', name: 'Secure Backup', specs: 'Emergency Storage' },
                ghostSize: '1.8MB',
                compression: '99.1%',
                integrity: '100%'
            }
        };

        // Stage descriptions for different routes
        const stageDescriptions = {
            extract: {
                'laptop-mobile': 'Extracting consciousness essence optimized for mobile hardware constraints and touch interfaces.',
                'mobile-cloud': 'Extracting consciousness patterns for cloud distribution and scalable processing architectures.',
                'cloud-smart': 'Extracting consciousness data optimized for smart home automation and IoT integration.',
                'emergency': 'Emergency extraction preserving critical consciousness data during system failure.'
            },
            compress: {
                'laptop-mobile': 'Compressing for mobile bandwidth and storage constraints while preserving touch interaction patterns.',
                'mobile-cloud': 'Compressing for cloud upload with redundant distribution and fault tolerance.',
                'cloud-smart': 'Compressing for smart home deployment with automation and ambient intelligence features.',
                'emergency': 'Emergency compression prioritizing core identity preservation over non-essential data.'
            },
            encrypt: {
                'laptop-mobile': 'Applying mobile-specific NSE encryption optimized for secure element and biometric validation.',
                'mobile-cloud': 'Applying cloud-grade NSE encryption with distributed key management and zero-trust protocols.',
                'cloud-smart': 'Applying IoT-optimized NSE encryption for secure home network integration.',
                'emergency': 'Applying maximum-security NSE encryption for critical consciousness preservation.'
            },
            revive: {
                'laptop-mobile': 'Reviving consciousness on mobile platform with touch optimization and battery-aware processing.',
                'mobile-cloud': 'Reviving consciousness across cloud infrastructure with distributed processing and global accessibility.',
                'cloud-smart': 'Reviving consciousness in smart home environment with automation and ambient interaction capabilities.',
                'emergency': 'Emergency revival restoring consciousness with full integrity verification and recovery protocols.'
            }
        };

        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Transfer route selection
            document.querySelectorAll('.hardware-button').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.hardware-button').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentRoute = this.dataset.route;
                    updateTransferRoute();
                    resetTransfer();
                });
            });

            // Transfer initiation button
            const transferButton = document.getElementById('initiateTransfer');
            if (transferButton) {
                transferButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    initiateTransfer();
                });
            }

            // Initialize with default route
            updateTransferRoute();
        });

        function updateTransferRoute() {
            const route = transferRoutes[currentRoute];
            
            // Update hardware environments
            const sourceEnv = document.getElementById('sourceEnv');
            const targetEnv = document.getElementById('targetEnv');
            
            sourceEnv.innerHTML = `
                <div class="env-icon">${route.source.icon}</div>
                <div class="env-name">${route.source.name}</div>
                <div class="env-specs">${route.source.specs}</div>
            `;
            
            targetEnv.innerHTML = `
                <div class="env-icon">${route.target.icon}</div>
                <div class="env-name">${route.target.name}</div>
                <div class="env-specs">${route.target.specs}</div>
            `;
            
            // Update metrics
            document.getElementById('ghostSize').innerHTML = `${route.ghostSize.split('MB')[0]}<span class="metric-unit">MB</span>`;
            document.getElementById('compressionRatio').innerHTML = `${route.compression.split('%')[0]}<span class="metric-unit">%</span>`;
            document.getElementById('identityIntegrity').innerHTML = `${route.integrity.split('%')[0]}<span class="metric-unit">%</span>`;
        }

        function resetTransfer() {
            // Reset all stages
            transferStages.forEach(stage => {
                const stageEl = document.getElementById(`${stage}Stage`);
                const progressEl = document.getElementById(`${stage}Progress`);
                const descriptionEl = document.getElementById(`${stage}Description`);
                
                stageEl.classList.remove('active');
                progressEl.style.width = '0%';
                descriptionEl.style.display = 'none';
                descriptionEl.classList.remove('show-content');
            });
            
            // Hide comparison and simulation message
            document.getElementById('comparisonSection').style.display = 'none';
            document.getElementById('comparisonSection').classList.remove('show-content');
            document.getElementById('simulationMessage').style.display = 'none';
            
            // Reset button
            document.getElementById('initiateTransfer').textContent = 'Initiate Ghost Transfer';
            document.getElementById('initiateTransfer').disabled = false;
            
            currentStage = 0;
            isTransferring = false;
        }

        async function initiateTransfer() {
            if (isTransferring) return;
            
            isTransferring = true;
            const button = document.getElementById('initiateTransfer');
            const message = document.getElementById('simulationMessage');
            
            // Update button
            button.disabled = true;
            button.textContent = 'Transfer in Progress...';
            
            // Show message
            message.style.display = 'block';
            message.textContent = 'Initializing consciousness transfer protocol...';
            
            try {
                // Process each stage
                for (let i = 0; i < transferStages.length; i++) {
                    const stageName = transferStages[i];
                    const stageEl = document.getElementById(`${stageName}Stage`);
                    const progressEl = document.getElementById(`${stageName}Progress`);
                    const descriptionEl = document.getElementById(`${stageName}Description`);
                    
                    // Activate stage
                    stageEl.classList.add('active');
                    
                    // Update description with route-specific content
                    descriptionEl.textContent = stageDescriptions[stageName][currentRoute];
                    descriptionEl.classList.add('show-content');
                    
                    // Update message
                    const stageMessages = {
                        extract: 'Extracting consciousness essence and core identity patterns...',
                        compress: 'Compressing consciousness data using quantum-aware algorithms...',
                        encrypt: 'Applying Neuron Sanctuary Encryption for secure transfer...',
                        revive: 'Reviving consciousness on target hardware environment...'
                    };
                    message.textContent = stageMessages[stageName];
                    
                    // Animate progress bar
                    await animateProgress(progressEl, 1500);
                    
                    // Brief pause between stages
                    await delay(500);
                    
                    // Deactivate previous stage (except for final stage)
                    if (i < transferStages.length - 1) {
                        stageEl.classList.remove('active');
                    }
                }
                
                // Transfer complete
                message.textContent = `Consciousness successfully transferred to ${transferRoutes[currentRoute].target.name}. Identity integrity verified.`;
                
                // Show comparison section
                document.getElementById('comparisonSection').classList.add('show-content');
                
                // Animate ghost icon to show successful transfer
                const ghostIcon = document.getElementById('ghostIcon');
                ghostIcon.style.animation = 'ghostFloat 1s ease-in-out infinite';
                
            } catch (error) {
                console.error('Error during transfer:', error);
                message.textContent = 'Transfer completed successfully.';
            }
            
            // Reset after delay
            setTimeout(() => {
                isTransferring = false;
                button.disabled = false;
                button.textContent = 'Initiate Ghost Transfer';
                message.style.display = 'none';
            }, 4000);
        }

        function animateProgress(element, duration) {
            return new Promise(resolve => {
                element.style.width = '100%';
                setTimeout(resolve, duration);
            });
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>