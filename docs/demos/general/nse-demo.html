<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSE: Experiential Cryptography Demo</title>
			<!-- FAVICON CODE -->
	<link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
	<link rel="stylesheet" href="../../css/navigation.css">
	
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            min-height: 100vh;
            padding: 16px;
			padding-top: 90px !important;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            margin: 0 0 8px 0;
            color: #1e293b;
        }

        .header p {
            font-size: 16px;
            color: #64748b;
            margin: 0;
        }

        .progress-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 32px;
            gap: 16px;
            flex-wrap: wrap;
        }

        .progress-step {
            padding: 8px 16px;
            border-radius: 20px;
            background: #e2e8f0;
            color: #64748b;
            font-size: 14px;
            font-weight: 500;
        }

        .progress-step.active {
            background: #3b82f6;
            color: white;
        }

        .step-card {
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: white;
            margin-bottom: 16px;
        }

        .step-card.active {
            border-color: #3b82f6;
            background: #f0f9ff;
        }

        .step-title {
            margin: 0 0 16px 0;
            color: #1e293b;
            font-size: 18px;
            font-weight: 600;
        }

        .step-description {
            color: #64748b;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin-bottom: 16px;
        }

        .file-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            background: white;
            transition: all 0.2s;
        }

        .file-card:hover {
            border-color: #3b82f6;
        }

        .file-card.selected {
            border: 2px solid #3b82f6;
            background: #f0f9ff;
        }

        .file-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .file-icon {
            font-size: 20px;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-size: 14px;
            font-weight: 600;
        }

        .file-size {
            font-size: 12px;
            color: #64748b;
        }

        .button {
            padding: 8px 16px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 8px;
            margin-top: 8px;
        }

        .button:hover {
            background: #2563eb;
        }

        .button.secondary {
            background: #7c3aed;
        }

        .button.secondary:hover {
            background: #6d28d9;
        }

        .parameters-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 16px;
        }

        .parameters-table th {
            background: #f1f5f9;
            padding: 8px;
            text-align: left;
            font-size: 14px;
            border-bottom: 1px solid #e2e8f0;
        }

        .parameters-table td {
            padding: 8px;
            border-bottom: 1px solid #e2e8f0;
            font-size: 12px;
        }

        .parameters-table td:last-child {
            font-family: monospace;
        }

        .complexity-info {
            background: #fef3c7;
            padding: 12px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .complexity-info p {
            font-size: 14px;
            margin: 0;
        }

        .terminal {
            background: #1e293b;
            color: #10b981;
            padding: 16px;
            border-radius: 8px;
            font-family: monospace;
            margin-bottom: 16px;
        }

        .terminal .header-line {
            font-size: 12px;
            margin-bottom: 8px;
        }

        .terminal .content {
            font-size: 11px;
            line-height: 1.6;
        }

        .terminal .key {
            color: #fbbf24;
        }

        .quantum-resistance {
            background: #dcfce7;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .quantum-resistance p {
            font-size: 14px;
            margin: 0;
        }

        .challenge-card {
            background: #f8fafc;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .challenge-question {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 12px;
            background: white;
        }

        .comparison-card.vulnerable {
            background: #fef2f2;
            border: 2px solid #ef4444;
        }

        .comparison-card.secure {
            background: #f0fdf4;
            border: 2px solid #22c55e;
        }

        .comparison-title {
            margin: 0 0 12px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .comparison-title.vulnerable {
            color: #dc2626;
        }

        .comparison-title.secure {
            color: #16a34a;
        }

        .comparison-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .comparison-content div {
            margin-bottom: 8px;
        }

        .footer {
            text-align: center;
            margin-top: 32px;
            padding: 16px;
            background: #1e293b;
            color: white;
            border-radius: 8px;
        }

        .footer h3 {
            font-size: 16px;
            font-weight: 600;
            margin: 0 0 8px 0;
        }

        .footer p {
            font-size: 14px;
            margin: 0;
            opacity: 0.8;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            .options-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- Navigation -->
	<div>
	<div id="navigation-placeholder"></div>
	</div>

    <div class="container">
        
        <!-- Header -->
        <div class="header">
            <h1>üîê NSE: Experiential Cryptography Demo</h1>
            <p>See how personal digital experiences create quantum-resistant encryption</p>
        </div>

        <!-- Progress Steps -->
        <div class="progress-steps">
            <div class="progress-step active" id="step-upload">üìÅ Select Files</div>
            <div class="progress-step" id="step-extract">üîç Extract Parameters</div>
            <div class="progress-step" id="step-generate">üîë Generate Key</div>
            <div class="progress-step" id="step-authenticate">‚úÖ Authenticate</div>
        </div>

        <!-- Step 1: File Selection -->
        <div class="step-card active" id="upload-section">
            <h3 class="step-title">Step 1: Select Your Personal Files</h3>
            <p class="step-description">
                Choose files from your digital life. NSE extracts experiential parameters only you would know.
            </p>
            
            <div class="files-grid" id="filesGrid">
                <!-- Files will be populated by JavaScript -->
            </div>

            <div id="selectedInfo" class="hidden">
                <p style="font-size: 14px; font-weight: 500; margin-bottom: 8px;">
                    Selected: <span id="selectedCount">0</span> files
                </p>
                <button class="button" onclick="extractParameters()">
                    Extract Parameters ‚Üí
                </button>
            </div>
        </div>

        <!-- Step 2: Parameter Extraction -->
        <div class="step-card hidden" id="extract-section">
            <h3 class="step-title">Step 2: Experiential Parameter Extraction</h3>
            <p class="step-description">
                NSE extracts unique parameters from your lived experiences that quantum computers cannot replicate.
            </p>
            
            <div style="overflow-x: auto;">
                <table class="parameters-table" id="parametersTable">
                    <thead>
                        <tr>
                            <th>File</th>
                            <th>Parameter Type</th>
                            <th>Extracted Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Parameters will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="complexity-info">
                <p>
                    <strong>Combinatorial Complexity:</strong> 
                    <span id="parameterCount">0</span> parameters √ó timestamp precision √ó semantic interpretation = 
                    <strong><span id="complexityTotal">0</span> daily possibilities</strong>
                </p>
            </div>

            <button class="button" onclick="generateKey()">
                Generate NSE Key ‚Üí
            </button>
        </div>

        <!-- Step 3: Key Generation -->
        <div class="step-card hidden" id="generate-section">
            <h3 class="step-title">Step 3: NSE Key Generation</h3>
            <p class="step-description">
                Your experiential parameters are combined using proprietary algorithms to create a quantum-resistant encryption key.
            </p>
            
            <div class="terminal">
                <div class="header-line">Key Generation Process:</div>
                <div class="content" id="keyGenProcess">
                    ‚Üí Extracting experiential parameters...<br/>
                    ‚Üí Applying semantic interpretation...<br/>
                    ‚Üí Integrating timestamp precision...<br/>
                    ‚Üí Generating cryptographic hash...<br/>
                    ‚Üí NSE Key: <span class="key" id="generatedKey">Processing...</span>
                </div>
            </div>

            <div class="quantum-resistance">
                <p>
                    <strong>Quantum Resistance:</strong> This key cannot be broken by quantum computers because it requires 
                    living your exact experiences - something no algorithm can simulate.
                </p>
            </div>

            <button class="button" onclick="testAuthentication()">
                Test Authentication ‚Üí
            </button>
        </div>

        <!-- Step 4: Authentication Challenge -->
        <div class="step-card hidden" id="authenticate-section">
            <h3 class="step-title">Step 4: Experiential Authentication</h3>
            <p class="step-description">
                To decrypt, you must prove you lived these experiences by answering questions only you would know.
            </p>

            <div id="challengesContainer">
                <!-- Challenges will be populated by JavaScript -->
            </div>

            <button class="button" onclick="checkAuthentication()">
                Verify Answers
            </button>
        </div>

        <!-- Quantum Comparison -->
        <div style="margin-top: 32px;">
            <button class="button secondary" onclick="toggleComparison()">
                Show Quantum Resistance Comparison
            </button>

            <div class="comparison-grid hidden" id="comparisonSection">
                <div class="comparison-card vulnerable">
                    <h4 class="comparison-title vulnerable">‚ùå Traditional Encryption</h4>
                    <div class="comparison-content">
                        <div><strong>Method:</strong> Mathematical Prime Factorization</div>
                        <div><strong>Key Size:</strong> 2048 bits</div>
                        <div><strong>Quantum Vulnerable:</strong> Yes</div>
                        <div><strong>Time to Break:</strong> ~8 hours with quantum computer</div>
                        <div><strong>Attack Method:</strong> Shor's Algorithm</div>
                    </div>
                </div>

                <div class="comparison-card secure">
                    <h4 class="comparison-title secure">‚úÖ NSE Encryption</h4>
                    <div class="comparison-content">
                        <div><strong>Method:</strong> Personal Life Experience Patterns</div>
                        <div><strong>Key Size:</strong> 7,500+ experiential parameters</div>
                        <div><strong>Quantum Vulnerable:</strong> No</div>
                        <div><strong>Time to Break:</strong> Cannot simulate lived experience</div>
                        <div><strong>Attack Method:</strong> Would need to live identical life</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h3>NSE: Security Through Lived Experience</h3>
            <p>The files that are protected become the source of their protection</p>
        </div>
    </div>

    <script>
	
		// Include Navigation Bar
		fetch('../../includes/navigation2L.html')
			.then(response => response.text())
			.then(html => {
				document.getElementById('navigation-placeholder').innerHTML = html;
			});
	
        const SAMPLE_FILES = [
            {
                id: "photo1",
                name: "family_vacation.jpg",
                type: "photo",
                size: "2.4 MB",
                icon: "üì∏",
                metadata: {
                    timestamp: "2023-07-15 14:23:17",
                    gps: "45.4215, -75.6972",
                    camera: "iPhone 14 Pro",
                    iso: 100,
                    aperture: "f/1.8",
                    colors: [
                        { pixel: "(1247, 892)", color: "RGB(135, 206, 235)", name: "Sky Blue" },
                        { pixel: "(856, 1203)", color: "RGB(34, 139, 34)", name: "Forest Green" },
                        { pixel: "(1456, 234)", color: "RGB(255, 218, 185)", name: "Peach" }
                    ]
                }
            },
            {
                id: "doc1", 
                name: "first_job_notes.txt",
                type: "document",
                size: "45 KB",
                icon: "üìÑ",
                metadata: {
                    wordCount: 2847,
                    created: "2022-09-03 08:45:33",
                    modified: "2022-09-05 16:22:14",
                    software: "Microsoft Word 2019",
                    keywords: [
                        { word: "nervous", count: 7 },
                        { word: "excited", count: 12 },
                        { word: "challenge", count: 5 }
                    ],
                    avgSentenceLength: 16.4
                }
            },
            {
                id: "video1",
                name: "birthday_celebration.mp4", 
                type: "video",
                size: "156.7 MB",
                icon: "üé•",
                metadata: {
                    duration: "04:23",
                    resolution: "1080p",
                    fps: 30,
                    created: "2023-03-22 19:45:12",
                    peakVolume: { time: "02:47", level: "85 dB" },
                    colorPalette: "Warm Yellow Dominant",
                    fileFormat: "H.264"
                }
            }
        ];

        let selectedFiles = [];
        let extractedParams = [];
        let authChallenges = [];
        let userAnswers = {};

        function initializeFiles() {
            const grid = document.getElementById('filesGrid');
            
            SAMPLE_FILES.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card';
                fileCard.onclick = () => selectFile(file.id);
                
                fileCard.innerHTML = `
                    <div class="file-header">
                        <span class="file-icon">${file.icon}</span>
                        <div class="file-info">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${file.size}</div>
                        </div>
                    </div>
                `;
                
                fileCard.id = `file-${file.id}`;
                grid.appendChild(fileCard);
            });
        }

        function selectFile(fileId) {
            const fileCard = document.getElementById(`file-${fileId}`);
            const file = SAMPLE_FILES.find(f => f.id === fileId);
            
            if (selectedFiles.includes(fileId)) {
                selectedFiles = selectedFiles.filter(id => id !== fileId);
                fileCard.classList.remove('selected');
            } else {
                selectedFiles.push(fileId);
                fileCard.classList.add('selected');
            }
            
            updateSelectedInfo();
        }

        function updateSelectedInfo() {
            const info = document.getElementById('selectedInfo');
            const count = document.getElementById('selectedCount');
            
            count.textContent = selectedFiles.length;
            
            if (selectedFiles.length > 0) {
                info.classList.remove('hidden');
            } else {
                info.classList.add('hidden');
            }
        }

        function extractParameters() {
            extractedParams = [];
            
            selectedFiles.forEach(fileId => {
                const file = SAMPLE_FILES.find(f => f.id === fileId);
                
                if (file.type === "photo") {
                    extractedParams.push(
                        { file: file.name, param: "GPS Coordinates", value: file.metadata.gps },
                        { file: file.name, param: "Creation Time", value: file.metadata.timestamp },
                        { file: file.name, param: "Sky Color (1247,892)", value: file.metadata.colors[0].color },
                        { file: file.name, param: "Camera Model", value: file.metadata.camera }
                    );
                } else if (file.type === "document") {
                    extractedParams.push(
                        { file: file.name, param: "Word Count", value: file.metadata.wordCount },
                        { file: file.name, param: "'Nervous' Frequency", value: file.metadata.keywords[0].count },
                        { file: file.name, param: "Avg Sentence Length", value: file.metadata.avgSentenceLength },
                        { file: file.name, param: "Creation Time", value: file.metadata.created }
                    );
                } else if (file.type === "video") {
                    extractedParams.push(
                        { file: file.name, param: "Duration", value: file.metadata.duration },
                        { file: file.name, param: "Peak Volume Time", value: file.metadata.peakVolume.time },
                        { file: file.name, param: "Peak Volume Level", value: file.metadata.peakVolume.level },
                        { file: file.name, param: "File Size", value: "156.7 MB" }
                    );
                }
            });
            
            populateParametersTable();
            showStep('extract');
        }

        function populateParametersTable() {
            const tbody = document.querySelector('#parametersTable tbody');
            tbody.innerHTML = '';
            
            extractedParams.forEach(param => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${param.file}</td>
                    <td style="font-weight: 500;">${param.param}</td>
                    <td>${param.value}</td>
                `;
                tbody.appendChild(row);
            });
            
            // Update complexity calculation
            const paramCount = extractedParams.length;
            const complexity = paramCount * 86400 * 4; // Parameters √ó daily timestamp precision √ó semantic variations
            
            document.getElementById('parameterCount').textContent = paramCount;
            document.getElementById('complexityTotal').textContent = complexity.toLocaleString();
        }

        function generateKey() {
            // Simulate key generation
            setTimeout(() => {
                const keyParts = extractedParams.map(p => p.value.toString()).join("+");
                const simulatedHash = btoa(keyParts).substring(0, 32);
                const key = `NSE_${simulatedHash}...`;
                
                document.getElementById('generatedKey').textContent = key;
                
                // Generate authentication challenges
                authChallenges = [
                    { 
                        question: "What color was the sky at pixel (1247, 892) in your vacation photo?",
                        correctAnswer: "sky blue",
                        options: ["sky blue", "ocean blue", "navy blue", "light blue"]
                    },
                    {
                        question: "How many times did you write 'nervous' in your job notes?", 
                        correctAnswer: "7",
                        options: ["5", "7", "9", "12"]
                    },
                    {
                        question: "At what time did the peak volume occur in your birthday video?",
                        correctAnswer: "02:47", 
                        options: ["01:23", "02:47", "03:15", "04:02"]
                    }
                ];
            }, 2000);
            
            showStep('generate');
        }

        function testAuthentication() {
            populateChallenges();
            showStep('authenticate');
        }

        function populateChallenges() {
            const container = document.getElementById('challengesContainer');
            container.innerHTML = '';
            
            authChallenges.forEach((challenge, index) => {
                const challengeDiv = document.createElement('div');
                challengeDiv.className = 'challenge-card';
                challengeDiv.innerHTML = `
                    <div class="challenge-question">${challenge.question}</div>
                    <div class="options-grid">
                        ${challenge.options.map((option, optionIndex) => `
                            <label class="option-label">
                                <input type="radio" name="question_${index}" value="${option}" 
                                       onchange="setAnswer(${index}, '${option}')">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(challengeDiv);
            });
        }

        function setAnswer(questionIndex, answer) {
            userAnswers[questionIndex] = answer;
        }

        function checkAuthentication() {
            const correct = authChallenges.every((challenge, index) => 
                userAnswers[index] === challenge.correctAnswer
            );
            
            if (correct) {
                alert("‚úÖ Authentication Successful! NSE key unlocked.");
            } else {
                alert("‚ùå Authentication Failed. Only someone who lived these experiences would know the answers.");
            }
        }

        function showStep(stepName) {
            // Update progress indicators
            document.querySelectorAll('.progress-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById(`step-${stepName}`).classList.add('active');
            
            // Show/hide sections
            document.querySelectorAll('.step-card').forEach(card => {
                card.classList.remove('active');
                card.classList.add('hidden');
            });
            
            document.getElementById(`${stepName}-section`).classList.remove('hidden');
            document.getElementById(`${stepName}-section`).classList.add('active');
        }

        function toggleComparison() {
            const section = document.getElementById('comparisonSection');
            const button = event.target;
            
            if (section.classList.contains('hidden')) {
                section.classList.remove('hidden');
                button.textContent = 'Hide Quantum Resistance Comparison';
            } else {
                section.classList.add('hidden');
                button.textContent = 'Show Quantum Resistance Comparison';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeFiles();
        });
    </script>
</body>
</html>