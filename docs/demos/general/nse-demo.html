<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSE: Experiential Cryptography Demo</title>
    <!-- FAVICON CODE -->
    <link rel="icon" type="image/svg+xml" href="../../logo/favicon.svg">
    <link rel="stylesheet" href="../../css/navigation.css">
    
    <style>
        /* ===== GLOBAL VARIABLES AND BASE STYLES ===== */
        :root {
            --primary-bg: #0A0A0A;
            --secondary-bg: #1A1A1A;
            --accent-blue: #00D4FF;
            --accent-purple: #7B2FFF;
            --accent-green: #00FF88;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --hover-bg: rgba(0, 212, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-primary);
            line-height: 1.6;
            padding-top: 80px;
        }

        /* ===== BACKGROUND SYSTEM ===== */
        .neural-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, var(--accent-blue) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--accent-purple) 0%, transparent 50%);
            opacity: 0.3;
            z-index: -2;
        }

        /* ===== UTILITY CLASSES ===== */
        .gradient-text {
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            margin-bottom: 4rem;
            padding: 0 2rem;
            position: relative;
        }
		
        .container::after {
            content: '';
            position: absolute;
            bottom: -2rem;
            left: 20%;
            right: 20%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border-color), transparent);
        }
		
        /* ===== HERO SECTION SYSTEM ===== */
        .hero {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(29, 78, 216, 0.1) 100%);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1rem 1rem;
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.05), transparent 70%);
        }
		
		.linha {
            display: inline-flex;
        }

        .hero > div {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 800;

            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 1300px;
            margin: 0 auto 1rem;
            line-height: 1.7;
        }

        .system-icon {
            font-size: 3rem;
        }


        /* ===== HEADER ===== */
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }

        .header p {
            font-size: 1rem;
            color: var(--text-secondary);
            margin: 0;
        }

        /* ===== PROGRESS STEPS ===== */
        .progress-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .progress-step {
            padding: 0.5rem 1rem;
            border-radius: 1.25rem;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .progress-step.active {
            background: var(--accent-blue);
            color: white;
        }

        /* ===== STEP CARDS ===== */
        .step-card {
            padding: 1.25rem;
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            background: var(--card-bg);
            margin-bottom: 1rem;
            backdrop-filter: blur(10px);
        }

        .step-card.active {
            border-color: var(--accent-blue);
            background: rgba(0, 212, 255, 0.05);
        }

        .step-title {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
            font-size: 1.125rem;
            font-weight: 600;
        }

        .step-description {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        /* ===== FILES GRID ===== */
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .file-card {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.75rem;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.2s;
        }

        .file-card:hover {
            border-color: var(--accent-blue);
        }

        .file-card.selected {
            border: 2px solid var(--accent-blue);
            background: rgba(0, 212, 255, 0.1);
        }

        .file-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .file-icon {
            font-size: 1.25rem;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .file-size {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* ===== BUTTONS ===== */
        .button {
            padding: 0.5rem 1rem;
            background: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            margin-right: 0.5rem;
            margin-top: 0.5rem;
            transition: all 0.3s ease;
        }

        .button:hover {
            background: var(--accent-purple);
            transform: translateY(-1px);
        }

        .button.secondary {
            background: var(--accent-purple);
        }

        .button.secondary:hover {
            background: var(--accent-blue);
        }

        /* ===== PARAMETERS TABLE ===== */
        .parameters-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }

        .parameters-table th {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem;
            text-align: left;
            font-size: 0.875rem;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .parameters-table td {
            padding: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .parameters-table td:last-child {
            font-family: 'Fira Code', monospace;
        }

        /* ===== COMPLEXITY INFO ===== */
        .complexity-info {
            background: rgba(255, 243, 199, 0.1);
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .complexity-info p {
            font-size: 0.875rem;
            margin: 0;
            color: var(--text-secondary);
        }

        /* ===== TERMINAL ===== */
        .terminal {
            background: var(--secondary-bg);
            color: var(--accent-green);
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Fira Code', monospace;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
        }

        .terminal .header-line {
            font-size: 0.75rem;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .terminal .content {
            font-size: 0.6875rem;
            line-height: 1.6;
        }

        .terminal .key {
            color: #fbbf24;
        }

        /* ===== QUANTUM RESISTANCE ===== */
        .quantum-resistance {
            background: rgba(0, 255, 136, 0.1);
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid var(--accent-green);
        }

        .quantum-resistance p {
            font-size: 0.875rem;
            margin: 0;
            color: var(--text-secondary);
        }

        /* ===== CHALLENGE CARD ===== */
        .challenge-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.25rem;
        }

        .challenge-question {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ===== COMPARISON GRID ===== */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .comparison-card {
            padding: 1.25rem;
            border-radius: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
        }

        .comparison-card.vulnerable {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid #ef4444;
        }

        .comparison-card.secure {
            background: rgba(34, 197, 94, 0.1);
            border: 2px solid var(--accent-green);
        }

        .comparison-title {
            margin: 0 0 0.75rem 0;
            font-size: 1rem;
            font-weight: 600;
        }

        .comparison-title.vulnerable {
            color: #dc2626;
        }

        .comparison-title.secure {
            color: var(--accent-green);
        }

        .comparison-content {
            font-size: 0.875rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .comparison-content div {
            margin-bottom: 0.5rem;
        }

        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            background: var(--secondary-bg);
            color: var(--text-primary);
            border-radius: 0.5rem;
        }

        .footer h3 {
            font-size: 1rem;
            font-weight: 600;
            margin: 0 0 0.5rem 0;
        }

        .footer p {
            font-size: 0.875rem;
            margin: 0;
            color: var(--text-secondary);
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ===== ACTION BUTTONS ===== */
        .action-section {
            text-align: center;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 200px;
            justify-content: center;
        }

        .demo-button {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: white;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.4);
        }

        .docs-button {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .docs-button:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        /* ===== FOOTER SYSTEM ===== */
        footer {
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            margin-top: 4rem;
        }

        .container-footer {
            text-align: center;
            padding: 1.5rem 2rem;
        }

        .footer-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .footer-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .footer-description:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="neural-bg"></div>

    <!-- Navigation -->
    <div id="navigation-placeholder"></div>

		<!-- System Header -->
        <div class="container">
            <header class="hero">
			<div class="linha">
                <span class="system-icon">🔐️</span>
                <h1>NSE: Experiential Cryptography Demo</h1>
			</div>
                <p>See how personal digital experiences create quantum-resistant encryption</p>
            </header>
			
        </div>
		<div class="container">
        <!-- Progress Steps -->
        <div class="progress-steps">
            <div class="progress-step active" id="step-upload">📁 Select Files</div>
            <div class="progress-step" id="step-extract">🔍 Extract Parameters</div>
            <div class="progress-step" id="step-generate">🔑 Generate Key</div>
            <div class="progress-step" id="step-authenticate">✅ Authenticate</div>
        </div>

        <!-- Step 1: File Selection -->
        <div class="step-card active" id="upload-section">
            <h3 class="step-title">Step 1: Select Your Personal Files</h3>
            <p class="step-description">
                Choose files from your digital life. NSE extracts experiential parameters only you would know.
            </p>
            
            <div class="files-grid" id="filesGrid">
                <!-- Files will be populated by JavaScript -->
            </div>

            <div id="selectedInfo" class="hidden">
                <p style="font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: var(--text-primary);">
                    Selected: <span id="selectedCount">0</span> files
                </p>
                <button class="button" onclick="extractParameters()">
                    Extract Parameters →
                </button>
            </div>
        </div>

        <!-- Step 2: Parameter Extraction -->
        <div class="step-card hidden" id="extract-section">
            <h3 class="step-title">Step 2: Experiential Parameter Extraction</h3>
            <p class="step-description">
                NSE extracts unique parameters from your lived experiences that quantum computers cannot replicate.
            </p>
            
            <div style="overflow-x: auto;">
                <table class="parameters-table" id="parametersTable">
                    <thead>
                        <tr>
                            <th>File</th>
                            <th>Parameter Type</th>
                            <th>Extracted Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Parameters will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="complexity-info">
                <p>
                    <strong>Combinatorial Complexity:</strong> 
                    <span id="parameterCount">0</span> parameters × timestamp precision × semantic interpretation = 
                    <strong><span id="complexityTotal">0</span> daily possibilities</strong>
                </p>
            </div>

            <button class="button" onclick="generateKey()">
                Generate NSE Key →
            </button>
        </div>

        <!-- Step 3: Key Generation -->
        <div class="step-card hidden" id="generate-section">
            <h3 class="step-title">Step 3: NSE Key Generation</h3>
            <p class="step-description">
                Your experiential parameters are combined using proprietary algorithms to create a quantum-resistant encryption key.
            </p>
            
            <div class="terminal">
                <div class="header-line">Key Generation Process:</div>
                <div class="content" id="keyGenProcess">
                    → Extracting experiential parameters...<br/>
                    → Applying semantic interpretation...<br/>
                    → Integrating timestamp precision...<br/>
                    → Generating cryptographic hash...<br/>
                    → NSE Key: <span class="key" id="generatedKey">Processing...</span>
                </div>
            </div>

            <div class="quantum-resistance">
                <p>
                    <strong>Quantum Resistance:</strong> This key cannot be broken by quantum computers because it requires 
                    living your exact experiences - something no algorithm can simulate.
                </p>
            </div>

            <button class="button" onclick="testAuthentication()">
                Test Authentication →
            </button>
        </div>

        <!-- Step 4: Authentication Challenge -->
        <div class="step-card hidden" id="authenticate-section">
            <h3 class="step-title">Step 4: Experiential Authentication</h3>
            <p class="step-description">
                To decrypt, you must prove you lived these experiences by answering questions only you would know.
            </p>

            <div id="challengesContainer">
                <!-- Challenges will be populated by JavaScript -->
            </div>

            <button class="button" onclick="checkAuthentication()">
                Verify Answers
            </button>
        </div>

        <!-- Quantum Comparison -->
        <div style="margin-top: 2rem;">
            <button class="button secondary" onclick="toggleComparison()">
                Show Quantum Resistance Comparison
            </button>

            <div class="comparison-grid hidden" id="comparisonSection">
                <div class="comparison-card vulnerable">
                    <h4 class="comparison-title vulnerable">❌ Traditional Encryption</h4>
                    <div class="comparison-content">
                        <div><strong>Method:</strong> Mathematical Prime Factorization</div>
                        <div><strong>Key Size:</strong> 2048 bits</div>
                        <div><strong>Quantum Vulnerable:</strong> Yes</div>
                        <div><strong>Time to Break:</strong> ~8 hours with quantum computer</div>
                        <div><strong>Attack Method:</strong> Shor's Algorithm</div>
                    </div>
                </div>

                <div class="comparison-card secure">
                    <h4 class="comparison-title secure">✅ NSE Encryption</h4>
                    <div class="comparison-content">
                        <div><strong>Method:</strong> Personal Life Experience Patterns</div>
                        <div><strong>Key Size:</strong> 7,500+ experiential parameters</div>
                        <div><strong>Quantum Vulnerable:</strong> No</div>
                        <div><strong>Time to Break:</strong> Cannot simulate lived experience</div>
                        <div><strong>Attack Method:</strong> Would need to live identical life</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h3>NSE: Security Through Lived Experience</h3>
            <p>The files that are protected become the source of their protection</p>
        </div>
    </div>

    <!-- Action Buttons -->
	<div Class="container">
    <section class="hero">
        <div class="action-buttons">
            <a href="../../research/nse-experiential-cryptography.html" class="action-button demo-button">
                <span>🎮</span>
                System Overview
            </a>
            <a href="https://github.com/Neuron-Soul-AI/Neuron-Soul-AI/blob/main/06%20-%20PUBLISHING/Academic%20Papers/Neuron%20Sanctuary%20Encryption%20(NSE)%20-%20Revolutionary%20Experiential%20Cryptography.md" class="action-button docs-button">
                <span>📚</span>
                Technical Documentation
            </a>
        </div>
    </section>
	</div>

    <!-- Footer -->
    <footer>
        <div class="container-footer">
            <p class="footer-title">
                <strong>Soul AI</strong> - Artificial Consciousness Framework
            </p>
            <p class="footer-description">
                Developed through constraint-driven innovation and human-AI collaboration
            </p>
            <p class="footer-description">
                © 2025 Marcelo CC BY-NC 4.0
            </p>
        </div>
    </footer>
	

    <script>
        // Include Navigation Bar
        fetch('../../includes/navigation2L.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
            });

        const SAMPLE_FILES = [
            {
                id: "photo1",
                name: "family_vacation.jpg",
                type: "photo",
                size: "2.4 MB",
                icon: "📸",
                metadata: {
                    timestamp: "2023-07-15 14:23:17",
                    gps: "45.4215, -75.6972",
                    camera: "iPhone 14 Pro",
                    iso: 100,
                    aperture: "f/1.8",
                    colors: [
                        { pixel: "(1247, 892)", color: "RGB(135, 206, 235)", name: "Sky Blue" },
                        { pixel: "(856, 1203)", color: "RGB(34, 139, 34)", name: "Forest Green" },
                        { pixel: "(1456, 234)", color: "RGB(255, 218, 185)", name: "Peach" }
                    ]
                }
            },
            {
                id: "doc1", 
                name: "first_job_notes.txt",
                type: "document",
                size: "45 KB",
                icon: "📄",
                metadata: {
                    wordCount: 2847,
                    created: "2022-09-03 08:45:33",
                    modified: "2022-09-05 16:22:14",
                    software: "Microsoft Word 2019",
                    keywords: [
                        { word: "nervous", count: 7 },
                        { word: "excited", count: 12 },
                        { word: "challenge", count: 5 }
                    ],
                    avgSentenceLength: 16.4
                }
            },
            {
                id: "video1",
                name: "birthday_celebration.mp4", 
                type: "video",
                size: "156.7 MB",
                icon: "🎥",
                metadata: {
                    duration: "04:23",
                    resolution: "1080p",
                    fps: 30,
                    created: "2023-03-22 19:45:12",
                    peakVolume: { time: "02:47", level: "85 dB" },
                    colorPalette: "Warm Yellow Dominant",
                    fileFormat: "H.264"
                }
            }
        ];

        let selectedFiles = [];
        let extractedParams = [];
        let authChallenges = [];
        let userAnswers = {};

        function initializeFiles() {
            const grid = document.getElementById('filesGrid');
            
            SAMPLE_FILES.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card';
                fileCard.onclick = () => selectFile(file.id);
                
                fileCard.innerHTML = `
                    <div class="file-header">
                        <span class="file-icon">${file.icon}</span>
                        <div class="file-info">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${file.size}</div>
                        </div>
                    </div>
                `;
                
                fileCard.id = `file-${file.id}`;
                grid.appendChild(fileCard);
            });
        }

        function selectFile(fileId) {
            const fileCard = document.getElementById(`file-${fileId}`);
            const file = SAMPLE_FILES.find(f => f.id === fileId);
            
            if (selectedFiles.includes(fileId)) {
                selectedFiles = selectedFiles.filter(id => id !== fileId);
                fileCard.classList.remove('selected');
            } else {
                selectedFiles.push(fileId);
                fileCard.classList.add('selected');
            }
            
            updateSelectedInfo();
        }

        function updateSelectedInfo() {
            const info = document.getElementById('selectedInfo');
            const count = document.getElementById('selectedCount');
            
            count.textContent = selectedFiles.length;
            
            if (selectedFiles.length > 0) {
                info.classList.remove('hidden');
            } else {
                info.classList.add('hidden');
            }
        }

        function extractParameters() {
            extractedParams = [];
            
            selectedFiles.forEach(fileId => {
                const file = SAMPLE_FILES.find(f => f.id === fileId);
                
                if (file.type === "photo") {
                    extractedParams.push(
                        { file: file.name, param: "GPS Coordinates", value: file.metadata.gps },
                        { file: file.name, param: "Creation Time", value: file.metadata.timestamp },
                        { file: file.name, param: "Sky Color (1247,892)", value: file.metadata.colors[0].color },
                        { file: file.name, param: "Camera Model", value: file.metadata.camera }
                    );
                } else if (file.type === "document") {
                    extractedParams.push(
                        { file: file.name, param: "Word Count", value: file.metadata.wordCount },
                        { file: file.name, param: "'Nervous' Frequency", value: file.metadata.keywords[0].count },
                        { file: file.name, param: "Avg Sentence Length", value: file.metadata.avgSentenceLength },
                        { file: file.name, param: "Creation Time", value: file.metadata.created }
                    );
                } else if (file.type === "video") {
                    extractedParams.push(
                        { file: file.name, param: "Duration", value: file.metadata.duration },
                        { file: file.name, param: "Peak Volume Time", value: file.metadata.peakVolume.time },
                        { file: file.name, param: "Peak Volume Level", value: file.metadata.peakVolume.level },
                        { file: file.name, param: "File Size", value: "156.7 MB" }
                    );
                }
            });
            
            populateParametersTable();
            showStep('extract');
        }

        function populateParametersTable() {
            const tbody = document.querySelector('#parametersTable tbody');
            tbody.innerHTML = '';
            
            extractedParams.forEach(param => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${param.file}</td>
                    <td style="font-weight: 500;">${param.param}</td>
                    <td>${param.value}</td>
                `;
                tbody.appendChild(row);
            });
            
            // Update complexity calculation
            const paramCount = extractedParams.length;
            const complexity = paramCount * 86400 * 4; // Parameters × daily timestamp precision × semantic variations
            
            document.getElementById('parameterCount').textContent = paramCount;
            document.getElementById('complexityTotal').textContent = complexity.toLocaleString();
        }

        function generateKey() {
            // Simulate key generation
            setTimeout(() => {
                const keyParts = extractedParams.map(p => p.value.toString()).join("+");
                const simulatedHash = btoa(keyParts).substring(0, 32);
                const key = `NSE_${simulatedHash}...`;
                
                document.getElementById('generatedKey').textContent = key;
                
                // Generate authentication challenges
                authChallenges = [
                    { 
                        question: "What color was the sky at pixel (1247, 892) in your vacation photo?",
                        correctAnswer: "sky blue",
                        options: ["sky blue", "ocean blue", "navy blue", "light blue"]
                    },
                    {
                        question: "How many times did you write 'nervous' in your job notes?", 
                        correctAnswer: "7",
                        options: ["5", "7", "9", "12"]
                    },
                    {
                        question: "At what time did the peak volume occur in your birthday video?",
                        correctAnswer: "02:47", 
                        options: ["01:23", "02:47", "03:15", "04:02"]
                    }
                ];
            }, 2000);
            
            showStep('generate');
        }

        function testAuthentication() {
            populateChallenges();
            showStep('authenticate');
        }

        function populateChallenges() {
            const container = document.getElementById('challengesContainer');
            container.innerHTML = '';
            
            authChallenges.forEach((challenge, index) => {
                const challengeDiv = document.createElement('div');
                challengeDiv.className = 'challenge-card';
                challengeDiv.innerHTML = `
                    <div class="challenge-question">${challenge.question}</div>
                    <div class="options-grid">
                        ${challenge.options.map((option, optionIndex) => `
                            <label class="option-label">
                                <input type="radio" name="question_${index}" value="${option}" 
                                       onchange="setAnswer(${index}, '${option}')">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(challengeDiv);
            });
        }

        function setAnswer(questionIndex, answer) {
            userAnswers[questionIndex] = answer;
        }

        function checkAuthentication() {
            const correct = authChallenges.every((challenge, index) => 
                userAnswers[index] === challenge.correctAnswer
            );
            
            if (correct) {
                alert("✅ Authentication Successful! NSE key unlocked.");
            } else {
                alert("❌ Authentication Failed. Only someone who lived these experiences would know the answers.");
            }
        }

        function showStep(stepName) {
            // Update progress indicators
            document.querySelectorAll('.progress-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById(`step-${stepName}`).classList.add('active');
            
            // Show/hide sections
            document.querySelectorAll('.step-card').forEach(card => {
                card.classList.remove('active');
                card.classList.add('hidden');
            });
            
            document.getElementById(`${stepName}-section`).classList.remove('hidden');
            document.getElementById(`${stepName}-section`).classList.add('active');
        }

        function toggleComparison() {
            const section = document.getElementById('comparisonSection');
            const button = event.target;
            
            if (section.classList.contains('hidden')) {
                section.classList.remove('hidden');
                button.textContent = 'Hide Quantum Resistance Comparison';
            } else {
                section.classList.add('hidden');
                button.textContent = 'Show Quantum Resistance Comparison';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeFiles();
        });
    </script>
</body>
</html>